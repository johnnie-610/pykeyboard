{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PyKeyboard","text":"<p>Modern, Type-Safe Keyboard Library for Kurigram</p> <p> Install  Quick Start  GitHub</p>"},{"location":"#features","title":"Features","text":"<ul> <li> 50+ Languages</li> </ul> <p>Comprehensive locale support with native names and flag emojis</p> <ul> <li> Smart Pagination</li> </ul> <p>Automatic page navigation with duplicate prevention and LRU caching</p> <ul> <li> Builder &amp; Factory</li> </ul> <p>Fluent <code>KeyboardBuilder</code> API and one-line <code>KeyboardFactory</code> presets</p> <ul> <li> Hooks &amp; Validation</li> </ul> <p>Rule-based button validation and transforms via <code>ButtonValidator</code></p> <ul> <li> Structured Errors</li> </ul> <p>Typed error classes with <code>error_code</code>, <code>param</code>, <code>value</code>, and <code>reason</code></p> <ul> <li> Full Pyrogram Compat</li> </ul> <p>Drop-in <code>reply_markup=</code> support with zero adapter code</p>"},{"location":"#quick-examples","title":"Quick Examples","text":"Inline KeyboardReply KeyboardBuilder PatternFactory <pre><code>from pykeyboard import InlineKeyboard, InlineButton\n\nkeyboard = InlineKeyboard()\nkeyboard.add(\n    InlineButton(\"\ud83d\udc4d Like\", \"action:like\"),\n    InlineButton(\"\ud83d\udc4e Dislike\", \"action:dislike\"),\n    InlineButton(\"\ud83d\udcca Stats\", \"action:stats\"),\n)\n\nawait message.reply_text(\"What do you think?\", reply_markup=keyboard)\n</code></pre> <pre><code>from pykeyboard import ReplyKeyboard, ReplyButton\n\nkeyboard = ReplyKeyboard(resize_keyboard=True, one_time_keyboard=True)\nkeyboard.add(\n    ReplyButton(\"Yes\"),\n    ReplyButton(\"No\"),\n    ReplyButton(\"Maybe\"),\n)\n\nawait message.reply_text(\"Choose:\", reply_markup=keyboard)\n</code></pre> <pre><code>from pykeyboard import KeyboardBuilder, InlineKeyboard\n\nkb = (\n    KeyboardBuilder(InlineKeyboard())\n    .add_row(\"\u2705 Yes\", \"\u274c No\")\n    .add_row(\"\ud83e\udd14 Maybe\")\n    .build()\n)\n</code></pre> <pre><code>from pykeyboard import KeyboardFactory\n\nkb = KeyboardFactory.create_confirmation_keyboard(\n    yes_text=\"\u2705 Confirm\",\n    no_text=\"\u274c Cancel\",\n)\n</code></pre>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>graph LR\n    A[Your Bot] --&gt; B[InlineKeyboard / ReplyKeyboard]\n    A --&gt; C[KeyboardBuilder]\n    A --&gt; D[KeyboardFactory]\n    C --&gt; B\n    D --&gt; B\n    B --&gt; E[Pyrogram]\n    F[ButtonValidator] -.-&gt; C\n    G[KeyboardHookManager] -.-&gt; C</code></pre> Layer Components Core <code>InlineKeyboard</code>, <code>ReplyKeyboard</code>, <code>InlineButton</code>, <code>ReplyButton</code> Builder <code>KeyboardBuilder</code> \u2014 fluent API with chaining Factory <code>KeyboardFactory</code> \u2014 one-line keyboard presets Hooks <code>ButtonValidator</code>, <code>KeyboardHookManager</code> Errors <code>PyKeyboardError</code> hierarchy with structured data Locale 50+ built-in locales + custom locale registration"},{"location":"#community-support","title":"Community &amp; Support","text":"<ul> <li> GitHub Repository \u2014 source code and issues</li> <li> GitHub Discussions \u2014 community support</li> <li> Issue Tracker \u2014 bug reports and feature requests</li> </ul> <p>Made with  for the Telegram bot development community</p> <p>MIT License \u2014 View on GitHub</p>"},{"location":"contributing/","title":"Contributing to PyKeyboard","text":"<p>We welcome contributions to PyKeyboard! This document provides guidelines and information for contributors.</p>"},{"location":"contributing/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Started</li> <li>Development Setup</li> <li>Code Style</li> <li>Testing</li> <li>Submitting Changes</li> <li>Reporting Issues</li> <li>Documentation</li> </ul>"},{"location":"contributing/#getting-started","title":"Getting Started","text":""},{"location":"contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.9 or higher</li> <li>Poetry for dependency management</li> <li>Git</li> </ul>"},{"location":"contributing/#fork-and-clone","title":"Fork and Clone","text":"<ol> <li>Fork the repository on GitHub</li> <li> <p>Clone your fork locally:    <pre><code>git clone https://github.com/johnnie-610/pykeyboard.git\ncd pykeyboard\n</code></pre></p> </li> <li> <p>Set up the upstream remote:    <pre><code>git remote add upstream https://github.com/johnnie-610/pykeyboard.git\n</code></pre></p> </li> </ol>"},{"location":"contributing/#development-setup","title":"Development Setup","text":""},{"location":"contributing/#install-dependencies","title":"Install Dependencies","text":"<pre><code># Install Poetry if you don't have it\ncurl -sSL https://install.python-poetry.org | python3 -\n\n# Install dependencies\npoetry install\n\n# Activate the virtual environment\npoetry shell\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":"<ol> <li> <p>Create a new branch for your feature:    <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Make your changes</p> </li> <li> <p>Run tests to ensure everything works:    <pre><code>poetry run pytest\n</code></pre></p> </li> <li> <p>Format your code:    <pre><code>poetry run black .\npoetry run isort .\n</code></pre></p> </li> <li> <p>Commit your changes:    <pre><code>git add .\ngit commit -m \"feat: add your feature description\"\n</code></pre></p> </li> </ol>"},{"location":"contributing/#code-style","title":"Code Style","text":"<p>We follow these coding standards:</p>"},{"location":"contributing/#python-style","title":"Python Style","text":"<ul> <li>Black: Code formatting</li> <li>isort: Import sorting</li> </ul>"},{"location":"contributing/#commit-messages","title":"Commit Messages","text":"<p>We use conventional commits:</p> <pre><code>type(scope): description\n\n[optional body]\n\n[optional footer]\n</code></pre> <p>Types: - <code>feat</code>: New features - <code>fix</code>: Bug fixes - <code>docs</code>: Documentation - <code>style</code>: Code style changes - <code>refactor</code>: Code refactoring - <code>test</code>: Testing - <code>chore</code>: Maintenance</p>"},{"location":"contributing/#naming-conventions","title":"Naming Conventions","text":"<ul> <li>Classes: <code>PascalCase</code></li> <li>Functions/methods: <code>snake_case</code></li> <li>Constants: <code>UPPER_SNAKE_CASE</code></li> <li>Private attributes: <code>_single_leading_underscore</code></li> </ul>"},{"location":"contributing/#testing","title":"Testing","text":""},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npoetry run pytest\n\n# Run with coverage\npoetry run pytest --cov=pykeyboard\n\n# Run specific test file\npoetry run pytest tests/test_inline_keyboard.py\n\n# Run tests in verbose mode\npoetry run pytest -v\n</code></pre>"},{"location":"contributing/#writing-tests","title":"Writing Tests","text":"<ul> <li>Use <code>pytest</code> framework</li> <li>Place tests in <code>tests/</code> directory</li> <li>Name test files as <code>test_*.py</code></li> <li>Use descriptive test function names</li> <li>Include docstrings for complex tests</li> </ul> <p>Example: <pre><code>def test_inline_keyboard_creation():\n    \"\"\"Test that InlineKeyboard can be created successfully.\"\"\"\n    keyboard = InlineKeyboard()\n    assert keyboard is not None\n    assert len(keyboard.keyboard) == 0\n</code></pre></p>"},{"location":"contributing/#submitting-changes","title":"Submitting Changes","text":""},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li> <p>Ensure your branch is up to date:    <pre><code>git fetch upstream\ngit rebase upstream/main\n</code></pre></p> </li> <li> <p>Push your branch:    <pre><code>git push origin feature/your-feature-name\n</code></pre></p> </li> <li> <p>Create a Pull Request on GitHub</p> </li> <li> <p>Wait for review and address any feedback</p> </li> </ol>"},{"location":"contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<ul> <li>Provide a clear description of the changes</li> <li>Reference any related issues</li> <li>Include screenshots for UI changes</li> <li>Ensure all tests pass</li> <li>Update documentation if needed</li> </ul>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":""},{"location":"contributing/#bug-reports","title":"Bug Reports","text":"<p>When reporting bugs, please include:</p> <ul> <li>Description: Clear description of the issue</li> <li>Steps to reproduce: Step-by-step instructions</li> <li>Expected behavior: What should happen</li> <li>Actual behavior: What actually happens</li> <li>Environment: Python version, OS, PyKeyboard version, kurigram version</li> <li>Code sample: Minimal code to reproduce the issue</li> </ul>"},{"location":"contributing/#feature-requests","title":"Feature Requests","text":"<p>For feature requests, please include:</p> <ul> <li>Description: Clear description of the proposed feature</li> <li>Use case: Why this feature would be useful</li> <li>Implementation ideas: Any thoughts on how to implement it</li> <li>Alternatives: Any alternative solutions considered</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":""},{"location":"contributing/#building-documentation","title":"Building Documentation","text":"<pre><code># Install documentation dependencies\npoetry install --with docs\n\n# Build documentation\npoetry run mkdocs build\n\n# Serve documentation locally\npoetry run mkdocs serve\n</code></pre>"},{"location":"contributing/#documentation-guidelines","title":"Documentation Guidelines","text":"<ul> <li>Use clear, concise language</li> <li>Include code examples where appropriate</li> <li>Keep API documentation up to date</li> <li>Use proper Markdown formatting</li> <li>Include type hints in examples</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>This project follows a code of conduct to ensure a welcoming environment for all contributors. By participating, you agree to:</p> <ul> <li>Be respectful and inclusive</li> <li>Focus on constructive feedback</li> <li>Accept responsibility for mistakes</li> <li>Show empathy towards other contributors</li> <li>Help create a positive community</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing to PyKeyboard, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<p>If you need help or have questions:</p> <ul> <li>Check the documentation</li> <li>Search existing issues</li> <li>Ask questions in discussions</li> </ul> <p>Thank you for contributing to PyKeyboard! \ud83c\udf89</p>"},{"location":"errors/","title":"Error Handling","text":"<p>PyKeyboard uses a hierarchy of structured error classes that carry context about what went wrong.</p>"},{"location":"errors/#error-hierarchy","title":"Error Hierarchy","text":"<pre><code>classDiagram\n    Exception &lt;|-- PyKeyboardError\n    PyKeyboardError &lt;|-- ValidationError\n    PyKeyboardError &lt;|-- PaginationError\n    PaginationError &lt;|-- PaginationUnchangedError\n    PyKeyboardError &lt;|-- LocaleError\n    PyKeyboardError &lt;|-- ConfigurationError\n\n    class PyKeyboardError {\n        +str error_code\n        +str message\n        +str param\n        +Any value\n        +str reason\n    }</code></pre> <p>All errors inherit from <code>PyKeyboardError</code>, so you can catch them all at once or handle each type individually.</p>"},{"location":"errors/#common-attributes","title":"Common Attributes","text":"<p>Every <code>PyKeyboardError</code> carries:</p> Attribute Type Description <code>error_code</code> <code>str</code> Unique identifier, e.g. <code>\"VALIDATION_ERROR\"</code> <code>message</code> <code>str</code> Human-readable description <code>param</code> <code>str</code> Name of the parameter that caused the error <code>value</code> <code>Any</code> The invalid value that was passed <code>reason</code> <code>str</code> Additional context about why it failed"},{"location":"errors/#error-types","title":"Error Types","text":""},{"location":"errors/#validationerror","title":"ValidationError","text":"<p>Raised when a button or keyboard input fails validation.</p> <pre><code>from pykeyboard.keyboard_base import Button\n\ntry:\n    Button(text=\"\")  # Empty text is invalid\nexcept ValidationError as e:\n    print(e.error_code)  # \"VALIDATION_ERROR\"\n    print(e.param)       # \"text\"\n</code></pre>"},{"location":"errors/#paginationerror","title":"PaginationError","text":"<p>Raised when pagination parameters are invalid.</p> <pre><code>from pykeyboard import InlineKeyboard, PaginationError\n\ntry:\n    kb = InlineKeyboard()\n    kb.paginate(0, 1, \"page:{number}\")  # total_pages must be &gt;= 1\nexcept PaginationError as e:\n    print(e.error_code)  # \"PAGINATION_ERROR\"\n</code></pre>"},{"location":"errors/#paginationunchangederror","title":"PaginationUnchangedError","text":"<p>A subclass of <code>PaginationError</code>, raised when the same pagination keyboard would be regenerated (duplicate prevention).</p> <pre><code>from pykeyboard import InlineKeyboard, PaginationUnchangedError\n\nkb = InlineKeyboard()\nkb.paginate(5, 3, \"page:{number}\")\n\ntry:\n    kb.paginate(5, 3, \"page:{number}\")  # Same parameters \u2014 duplicate\nexcept PaginationUnchangedError:\n    print(\"Keyboard unchanged \u2014 skip the edit\")\n</code></pre>"},{"location":"errors/#localeerror","title":"LocaleError","text":"<p>Raised when locale parameters are invalid.</p> <pre><code>from pykeyboard import InlineKeyboard, LocaleError\n\ntry:\n    kb = InlineKeyboard()\n    kb.languages(\"invalid_pattern\", [\"en_US\"])  # Missing {locale} placeholder\nexcept LocaleError as e:\n    print(e.error_code)  # \"LOCALE_ERROR\"\n</code></pre>"},{"location":"errors/#configurationerror","title":"ConfigurationError","text":"<p>Raised when keyboard configuration is invalid.</p> <pre><code>from pykeyboard import InlineKeyboard, ConfigurationError\n\ntry:\n    kb = InlineKeyboard(row_width=0)  # Must be &gt;= 1\nexcept ConfigurationError as e:\n    print(e.error_code)  # \"CONFIGURATION_ERROR\"\n    print(e.param)       # \"row_width\"\n    print(e.value)       # 0\n</code></pre>"},{"location":"errors/#catching-all-errors","title":"Catching All Errors","text":"<pre><code>from pykeyboard import PyKeyboardError\n\ntry:\n    # Any keyboard operation\n    ...\nexcept PyKeyboardError as e:\n    print(f\"[{e.error_code}] {e.message}\")\n    if e.param:\n        print(f\"  Parameter: {e.param} = {e.value}\")\n    if e.reason:\n        print(f\"  Reason: {e.reason}\")\n</code></pre>"},{"location":"errors/#best-practices","title":"Best Practices","text":"<ol> <li>Catch specific errors when you need different recovery logic:</li> </ol> <pre><code>except PaginationUnchangedError:\n    await callback.answer(\"Already on this page\")\nexcept PaginationError as e:\n    logger.error(f\"Pagination error: {e}\")\n</code></pre> <ol> <li> <p>Catch <code>PyKeyboardError</code> as a fallback for unexpected library errors.</p> </li> <li> <p>Use <code>error_code</code> for programmatic handling and logging \u2014 it's stable across versions.</p> </li> <li> <p>Use <code>str(e)</code> for user-facing messages \u2014 it returns a clean, formatted string.</p> </li> </ol>"},{"location":"inline-keyboards/","title":"Inline Keyboards","text":"<p>Inline keyboards are the most powerful feature of PyKeyboard, providing rich interactive experiences for your Telegram bots.</p>"},{"location":"inline-keyboards/#basic-usage","title":"Basic Usage","text":"<pre><code>from pykeyboard import InlineKeyboard, InlineButton\n\n# Create keyboard\nkeyboard = InlineKeyboard()\n\n# Add buttons\nkeyboard.add(\n    InlineButton(\"Option 1\", \"choice:1\"),\n    InlineButton(\"Option 2\", \"choice:2\"),\n    InlineButton(\"Cancel\", \"action:cancel\")\n)\n\n# Send to user\nawait message.reply_text(\"Choose an option:\", reply_markup=keyboard)\n</code></pre> Example of inline keyboard with added buttons"},{"location":"inline-keyboards/#button-types","title":"Button Types","text":""},{"location":"inline-keyboards/#text-buttons","title":"Text Buttons","text":"<pre><code>InlineButton(\"Click me\", \"callback_data\")\n</code></pre>"},{"location":"inline-keyboards/#url-buttons","title":"URL Buttons","text":"<pre><code>InlineButton(\"Visit Website\", url=\"https://example.com\")\n</code></pre>"},{"location":"inline-keyboards/#web-app-buttons","title":"Web App Buttons","text":"<pre><code>from pyrogram.types import WebAppInfo\n\nbutton = InlineButton(\"Open Web App\", web_app=WebAppInfo(url=\"https://myapp.com\"))\n</code></pre>"},{"location":"inline-keyboards/#login-buttons","title":"Login Buttons","text":"<pre><code>from pyrogram.types import LoginUrl\n\nbutton = InlineButton(\"Login\", login_url=LoginUrl(url=\"https://example.com/login\"))\n</code></pre>"},{"location":"inline-keyboards/#layout-control","title":"Layout Control","text":""},{"location":"inline-keyboards/#row-width","title":"Row Width","text":"<pre><code># 2 buttons per row\nkeyboard = InlineKeyboard(row_width=2)\nkeyboard.add(\"A\", \"B\", \"C\", \"D\")  # Creates 2 rows: [A,B], [C,D]\n</code></pre>"},{"location":"inline-keyboards/#manual-rows","title":"Manual Rows","text":"<pre><code>keyboard = InlineKeyboard()\nkeyboard.row(\"Button 1\", \"Button 2\")  # First row\nkeyboard.row(\"Button 3\")              # Second row\nkeyboard.add(\"Button 4\", \"Button 5\")  # Third row (auto-layout)\n</code></pre> Example of inline keyboard with row-based layout"},{"location":"inline-keyboards/#advanced-features","title":"Advanced Features","text":""},{"location":"inline-keyboards/#pagination","title":"Pagination","text":"<pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(\n    count_pages=25,\n    current_page=12,\n    callback_pattern=\"page:{number}\"\n)\n# Creates: \u00ab 1 \u2039 11 \u00b7 12 \u00b7 13 \u203a 25 \u00bb\n</code></pre> Pagination with 25 pages, current page 14"},{"location":"inline-keyboards/#different-page-counts","title":"Different Page Counts","text":"<p>3 Pages:</p> <pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(3, 2, 'pagination:{number}')\n</code></pre> Pagination with 3 pages, current page 3 <p>5 Pages:</p> <pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(5, 3, 'pagination:{number}')\n</code></pre> Pagination with 5 pages, current page 3 <p>9 Pages:</p> <pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(9, 5, 'pagination:{number}')\n</code></pre> Pagination with 9 pages, current page 5 <p>100 Pages:</p> <pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(100, 50, 'page:{number}')\n</code></pre> Pagination with 100 pages, current page 100 <p>150 Pages with Additional Buttons:</p> <pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(150, 75, 'page:{number}')\nkeyboard.row(\n    InlineButton('\ud83d\udd19 Back', 'action:back'),\n    InlineButton('\u274c Close', 'action:close')\n)\n</code></pre> Pagination with 150 pages and additional action buttons"},{"location":"inline-keyboards/#language-selection","title":"Language Selection","text":"<pre><code>keyboard = InlineKeyboard()\nkeyboard.languages(\n    callback_pattern=\"lang:{locale}\",\n    locales=[\"en_US\", \"es_ES\", \"fr_FR\", \"de_DE\"],\n    row_width=2\n)\n</code></pre> Language selection keyboard with multiple locales"},{"location":"inline-keyboards/#builder-pattern","title":"Builder Pattern","text":"<pre><code>from pykeyboard import KeyboardBuilder, InlineKeyboard\n\nkeyboard = (\n    KeyboardBuilder(InlineKeyboard())\n    .add_row(\"\u2705 Yes\", \"\u274c No\")\n    .add_row(\"\ud83e\udd14 Maybe\", \"\u23ea Cancel\")\n    .build()\n)\n</code></pre>"},{"location":"inline-keyboards/#best-practices","title":"Best Practices","text":""},{"location":"inline-keyboards/#callback-data-patterns","title":"Callback Data Patterns","text":"<pre><code># Good: Structured callback data\nInlineButton(\"Edit\", \"action:edit:item:123\")\n\n# Bad: Unstructured data\nInlineButton(\"Edit\", \"edit_item_123\")\n</code></pre>"},{"location":"inline-keyboards/#error-handling","title":"Error Handling","text":"<pre><code>from pykeyboard import PaginationUnchangedError\n\ntry:\n    await callback_query.edit_message_text(\"Updated!\")\nexcept PaginationUnchangedError as e:\n    # Handle MessageNotModifiedError, etc.\n    await callback_query.answer(\"Already updated\")\n</code></pre>"},{"location":"inline-keyboards/#common-patterns","title":"Common Patterns","text":""},{"location":"inline-keyboards/#confirmation-dialog","title":"Confirmation Dialog","text":"<pre><code>from pykeyboard import KeyboardFactory\n\nkeyboard = KeyboardFactory.create_confirmation_keyboard(\n    yes_text=\"\u2705 Confirm\",\n    no_text=\"\u274c Cancel\",\n    callback_pattern=\"confirm:{action}\"\n)\n</code></pre>"},{"location":"inline-keyboards/#menu-navigation","title":"Menu Navigation","text":"<pre><code>def create_menu(items, callback_prefix):\n    keyboard = InlineKeyboard(row_width=2)\n    for item in items:\n        keyboard.add(InlineButton(item['name'], f\"{callback_prefix}:{item['id']}\"))\n    return keyboard\n</code></pre>"},{"location":"inline-keyboards/#dynamic-updates","title":"Dynamic Updates","text":"<pre><code>@app.on_callback_query(filters.regex(r\"counter:(\\w+)\"))\nasync def handle_counter(client, callback_query):\n    action = callback_query.matches[0].group(1)\n\n    # Update counter in database\n    new_count = update_counter(action)\n\n    # Update keyboard with new data\n    keyboard = create_counter_keyboard(new_count)\n    await callback_query.edit_message_reply_markup(keyboard)\n</code></pre>"},{"location":"inline-keyboards/#troubleshooting","title":"Troubleshooting","text":""},{"location":"inline-keyboards/#paginationunchangederror","title":"PaginationUnchangedError","text":"<pre><code>keyboard.paginate(5, 1, \"page:{number}\", \"user_123\")  # Safe to call multiple times\n</code></pre>"},{"location":"inline-keyboards/#callback-timeout","title":"Callback Timeout","text":"<pre><code># Always answer callbacks quickly\nawait callback_query.answer()  # Answer immediately\n\n# Then do heavy processing\nawait do_heavy_work()\n\n# Finally update message\nawait callback_query.edit_message_text(\"Done!\")\n</code></pre>"},{"location":"installation/","title":"Installation","text":"<p>PyKeyboard is available on PyPI and can be installed using pip or poetry.</p>"},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.9 or higher</li> <li>Kurigram (automatically installed)</li> </ul>"},{"location":"installation/#install-with-pip","title":"Install with pip","text":"<pre><code>pip install pykeyboard-kurigram\n</code></pre>"},{"location":"installation/#install-with-poetry","title":"Install with poetry","text":"<pre><code>poetry add pykeyboard-kurigram\n</code></pre>"},{"location":"installation/#install-from-source","title":"Install from source","text":"<pre><code>git clone https://github.com/johnnie-610/pykeyboard.git\ncd pykeyboard\npip install -e .\n</code></pre>"},{"location":"installation/#development-setup","title":"Development Setup","text":"<p>For development and testing:</p> <pre><code>git clone https://github.com/johnnie-610/pykeyboard.git\ncd pykeyboard\npoetry install\n</code></pre>"},{"location":"installation/#dependencies","title":"Dependencies","text":"<p>PyKeyboard has minimal dependencies:</p> <ul> <li><code>pydantic &gt;= 2.11.7</code> - Type validation</li> <li><code>kurigram &gt;= 2.2.10</code> - Telegram bot framework</li> </ul> <p>Optional dependencies:</p> <ul> <li><code>TgCrypto</code> - Faster Pyrogram performance (recommended)</li> </ul>"},{"location":"installation/#verification","title":"Verification","text":"<p>After installation, verify PyKeyboard is working:</p> <pre><code>import pykeyboard\n\n# Check version\nprint(pykeyboard.__version__)\n\n# Quick test\nfrom pykeyboard import InlineKeyboard, InlineButton\n\nkeyboard = InlineKeyboard()\nkeyboard.add(InlineButton(\"Test\", \"test\"))\nprint(\"\u2705 PyKeyboard is working!\")\n</code></pre>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#import-error","title":"Import Error","text":"<p>If you get import errors, make sure you're using Python 3.9+:</p> <pre><code>python --version\n</code></pre>"},{"location":"installation/#kurigram-issues","title":"Kurigram Issues","text":"<p>PyKeyboard requires Kurigram. If you have import issues:</p> <pre><code>pip install kurigram\n</code></pre>"},{"location":"installation/#tgcrypto-warning","title":"TgCrypto Warning","text":"<p>You might see a warning about TgCrypto missing. This is optional but recommended:</p> <pre><code>pip install TgCrypto\n</code></pre> <p>This will improve Pyrogram's performance but is not required for PyKeyboard to work.</p>"},{"location":"quickstart/","title":"Quick Start","text":"<p>Get up and running with PyKeyboard in 5 minutes.</p>"},{"location":"quickstart/#basic-setup","title":"Basic Setup","text":"<p>First, install PyKeyboard:</p> <pre><code>pip install pykeyboard-kurigram\n</code></pre>"},{"location":"quickstart/#your-first-keyboard","title":"Your First Keyboard","text":"<pre><code>from pykeyboard import InlineKeyboard, InlineButton\n\n# Create a keyboard\nkeyboard = InlineKeyboard()\nkeyboard.add(\n    InlineButton(\"\ud83d\udc4d Like\", \"action:like\"),\n    InlineButton(\"\ud83d\udc4e Dislike\", \"action:dislike\"),\n    InlineButton(\"\ud83d\udcca Stats\", \"action:stats\")\n)\n\n# Use with Kurigram\nawait message.reply_text(\"What do you think?\", reply_markup=keyboard)\n</code></pre>"},{"location":"quickstart/#handling-callbacks","title":"Handling Callbacks","text":"<pre><code>from pyrogram import Client, filters\n\napp = Client(\"my_bot\", api_id=API_ID, api_hash=API_HASH, bot_token=BOT_TOKEN)\n\n@app.on_callback_query(filters.regex(\"action:like\"))\nasync def handle_like(client, callback_query):\n    await callback_query.answer(\"You liked it! \ud83d\udc4d\")\n    # Update your database, etc.\n\n@app.on_callback_query(filters.regex(\"action:dislike\"))\nasync def handle_dislike(client, callback_query):\n    await callback_query.answer(\"You disliked it! \ud83d\udc4e\")\n\n@app.on_callback_query(filters.regex(\"action:stats\"))\nasync def handle_stats(client, callback_query):\n    stats = get_stats()  # Your stats function\n    await callback_query.edit_message_text(f\"\ud83d\udcca Stats: {stats}\")\n</code></pre>"},{"location":"quickstart/#reply-keyboards","title":"Reply Keyboards","text":"<pre><code>from pykeyboard import ReplyKeyboard, ReplyButton\n\n# Create a reply keyboard\nkeyboard = ReplyKeyboard(resize_keyboard=True, one_time_keyboard=True)\nkeyboard.add(\n    ReplyButton(\"\ud83d\udcf1 Share Phone\", request_contact=True),\n    ReplyButton(\"\ud83d\udccd Share Location\", request_location=True),\n    ReplyButton(\"\u274c Cancel\")\n)\n\nawait message.reply_text(\"Please share your contact:\", reply_markup=keyboard)\n</code></pre>"},{"location":"quickstart/#advanced-features","title":"Advanced Features","text":""},{"location":"quickstart/#pagination","title":"Pagination","text":"<pre><code>keyboard = InlineKeyboard()\nkeyboard.paginate(\n    count_pages=10,\n    current_page=1,\n    callback_pattern=\"page:{number}\"\n)\n</code></pre>"},{"location":"quickstart/#language-selection","title":"Language Selection","text":"<pre><code>keyboard = InlineKeyboard()\nkeyboard.languages(\n    callback_pattern=\"lang:{locale}\",\n    locales=[\"en_US\", \"es_ES\", \"fr_FR\"]\n)\n</code></pre>"},{"location":"quickstart/#builder-pattern","title":"Builder Pattern","text":"<pre><code>from pykeyboard import KeyboardBuilder, InlineKeyboard\n\nkeyboard = (\n    KeyboardBuilder(InlineKeyboard())\n    .add_row(\"\u2705 Yes\", \"\u274c No\")\n    .add_row(\"\ud83e\udd14 Maybe\", \"\u23ea Cancel\")\n    .build()\n)\n</code></pre>"},{"location":"quickstart/#complete-example","title":"Complete Example","text":"<pre><code>from pyrogram import Client, filters\nfrom pykeyboard import InlineKeyboard, InlineButton\n\n# Bot setup\napp = Client(\"my_bot\", api_id=API_ID, api_hash=API_HASH, bot_token=BOT_TOKEN)\n\n@app.on_message(filters.command(\"start\"))\nasync def start(client, message):\n    keyboard = InlineKeyboard()\n    keyboard.add(\n        InlineButton(\"\ud83c\udfae Play Game\", \"game\"),\n        InlineButton(\"\u2139\ufe0f About\", \"about\"),\n        InlineButton(\"\u2699\ufe0f Settings\", \"settings\")\n    )\n\n    await message.reply_text(\n        \"Welcome to My Bot! Choose an option:\",\n        reply_markup=keyboard\n    )\n\n@app.on_callback_query(filters.regex(\"game\"))\nasync def game_callback(client, callback_query):\n    await callback_query.edit_message_text(\"\ud83c\udfae Game starting...\")\n\n@app.on_callback_query(filters.regex(\"about\"))\nasync def about_callback(client, callback_query):\n    await callback_query.edit_message_text(\"\u2139\ufe0f This is a demo bot using PyKeyboard!\")\n\n@app.on_callback_query(filters.regex(\"settings\"))\nasync def settings_callback(client, callback_query):\n    keyboard = InlineKeyboard()\n    keyboard.add(\n        InlineButton(\"\ud83c\udf10 Language\", \"lang\"),\n        InlineButton(\"\ud83d\udd14 Notifications\", \"notif\"),\n        InlineButton(\"\u2b05\ufe0f Back\", \"back\")\n    )\n\n    await callback_query.edit_message_text(\n        \"\u2699\ufe0f Settings:\",\n        reply_markup=keyboard\n    )\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Check out the examples for more advanced usage</li> <li>Read the API documentation for detailed reference</li> <li>Explore pagination and language selection features</li> <li>Join our GitHub Discussions for community support</li> </ul>"},{"location":"reply-keyboards/","title":"Reply Keyboards","text":"<p>Reply keyboards are shown at the bottom of the chat interface and allow users to send predefined responses by tapping buttons.</p>"},{"location":"reply-keyboards/#basic-usage","title":"Basic Usage","text":"<pre><code>from pykeyboard import ReplyKeyboard, ReplyButton\n\n# Create a simple reply keyboard\nkeyboard = ReplyKeyboard()\nkeyboard.add(\n    ReplyButton(\"Yes\"),\n    ReplyButton(\"No\"),\n    ReplyButton(\"Maybe\")\n)\n\n# Use with your bot\nawait message.reply_text(\"What do you think?\", reply_markup=keyboard)\n</code></pre> Example of reply keyboard with added buttons"},{"location":"reply-keyboards/#parameters","title":"Parameters","text":"<ul> <li><code>row_width</code> (int, default 3): Number of buttons per row</li> <li><code>resize_keyboard</code> (bool, optional): Whether to resize keyboard to fit content</li> <li><code>one_time_keyboard</code> (bool, optional): Whether keyboard disappears after one use</li> <li><code>selective</code> (bool, optional): Whether keyboard is shown only to specific users</li> <li><code>placeholder</code> (str, optional): Placeholder text shown in input field</li> </ul>"},{"location":"reply-keyboards/#advanced-features","title":"Advanced Features","text":""},{"location":"reply-keyboards/#contact-and-location-requests","title":"Contact and Location Requests","text":"<pre><code>keyboard = ReplyKeyboard(resize_keyboard=True)\nkeyboard.row(\n    ReplyButton(\"\ud83d\udcf1 Share Contact\", request_contact=True),\n    ReplyButton(\"\ud83d\udccd Share Location\", request_location=True)\n)\nkeyboard.row(ReplyButton(\"\u274c Cancel\"))\n</code></pre>"},{"location":"reply-keyboards/#poll-creation","title":"Poll Creation","text":"<pre><code>keyboard = ReplyKeyboard()\nkeyboard.add(\n    ReplyButton(\"\ud83d\udcca Create Quiz\", request_poll=KeyboardButtonPollType(type=\"quiz\")),\n    ReplyButton(\"\ud83d\udcc8 Create Poll\", request_poll=KeyboardButtonPollType(type=\"regular\"))\n)\n</code></pre>"},{"location":"reply-keyboards/#user-and-chat-selection","title":"User and Chat Selection","text":"<pre><code>from pyrogram.types import KeyboardButtonRequestUsers, KeyboardButtonRequestChat\n\nkeyboard = ReplyKeyboard()\nkeyboard.add(\n    ReplyButton(\"\ud83d\udc64 Select User\", request_users=KeyboardButtonRequestUsers(request_id=1)),\n    ReplyButton(\"\ud83d\udc65 Select Chat\", request_chat=KeyboardButtonRequestChat(request_id=2))\n)\n</code></pre>"},{"location":"reply-keyboards/#web-app-integration","title":"Web App Integration","text":"<pre><code>from pyrogram.types import WebAppInfo\n\nkeyboard = ReplyKeyboard()\nkeyboard.add(\n    ReplyButton(\"\ud83c\udf10 Open Web App\", web_app=WebAppInfo(url=\"https://example.com\"))\n)\n</code></pre>"},{"location":"reply-keyboards/#layout-control","title":"Layout Control","text":""},{"location":"reply-keyboards/#row-based-layout","title":"Row-based Layout","text":"<pre><code>keyboard = ReplyKeyboard()\nkeyboard.row(ReplyButton(\"Top Button\"))\nkeyboard.row(\n    ReplyButton(\"Left\"),\n    ReplyButton(\"Right\")\n)\nkeyboard.row(ReplyButton(\"Bottom Button\"))\n</code></pre> Example of reply keyboard with row-based layout"},{"location":"reply-keyboards/#automatic-layout","title":"Automatic Layout","text":"<pre><code>keyboard = ReplyKeyboard(row_width=2)\nkeyboard.add(\n    ReplyButton(\"Button 1\"),\n    ReplyButton(\"Button 2\"),\n    ReplyButton(\"Button 3\"),\n    ReplyButton(\"Button 4\"),\n    ReplyButton(\"Button 5\")  # Will be on its own row\n)\n</code></pre>"},{"location":"reply-keyboards/#keyboard-types","title":"Keyboard Types","text":""},{"location":"reply-keyboards/#one-time-keyboard","title":"One-time Keyboard","text":"<pre><code>keyboard = ReplyKeyboard(\n    one_time_keyboard=True,\n    placeholder=\"Choose an option...\"\n)\nkeyboard.add(ReplyButton(\"Option 1\"), ReplyButton(\"Option 2\"))\n</code></pre>"},{"location":"reply-keyboards/#resizable-keyboard","title":"Resizable Keyboard","text":"<pre><code>keyboard = ReplyKeyboard(resize_keyboard=True)\nkeyboard.add(ReplyButton(\"Small Button\"))\n</code></pre>"},{"location":"reply-keyboards/#selective-keyboard","title":"Selective Keyboard","text":"<pre><code>keyboard = ReplyKeyboard(selective=True)\nkeyboard.add(ReplyButton(\"For You Only\"))\n</code></pre>"},{"location":"reply-keyboards/#integration-examples","title":"Integration Examples","text":""},{"location":"reply-keyboards/#complete-bot-example","title":"Complete Bot Example","text":"<pre><code>from pyrogram import Client, filters\nfrom pykeyboard import ReplyKeyboard, ReplyButton\n\napp = Client(\"my_bot\")\n\n# Main menu keyboard\nmain_menu = ReplyKeyboard(resize_keyboard=True, one_time_keyboard=True)\nmain_menu.add(\n    ReplyButton(\"\ud83d\udccb Tasks\"),\n    ReplyButton(\"\ud83d\udcca Statistics\"),\n    ReplyButton(\"\u2699\ufe0f Settings\")\n)\n\n# Settings keyboard\nsettings_menu = ReplyKeyboard(resize_keyboard=True)\nsettings_menu.row(\n    ReplyButton(\"\ud83d\udd14 Notifications\"),\n    ReplyButton(\"\ud83c\udf10 Language\")\n)\nsettings_menu.row(ReplyButton(\"\u2b05\ufe0f Back\"))\n\n@app.on_message(filters.command(\"start\"))\nasync def start_command(client, message):\n    await message.reply_text(\n        \"Welcome! Choose an option:\",\n        reply_markup=main_menu\n    )\n\n@app.on_message(filters.text &amp; filters.regex(\"Settings\"))\nasync def settings_handler(client, message):\n    await message.reply_text(\n        \"Settings:\",\n        reply_markup=settings_menu\n    )\n\napp.run()\n</code></pre>"},{"location":"reply-keyboards/#contact-collection","title":"Contact Collection","text":"<pre><code>contact_keyboard = ReplyKeyboard(resize_keyboard=True)\ncontact_keyboard.row(\n    ReplyButton(\"\ud83d\udcf1 Share Contact\", request_contact=True)\n)\ncontact_keyboard.row(ReplyButton(\"Skip\"))\n\n@app.on_message(filters.contact)\nasync def contact_handler(client, message):\n    contact = message.contact\n    await message.reply_text(f\"Thanks! Phone: {contact.phone_number}\")\n\n@app.on_message(filters.text &amp; filters.regex(\"Share Contact\"))\nasync def request_contact(client, message):\n    await message.reply_text(\n        \"Please share your contact:\",\n        reply_markup=contact_keyboard\n    )\n</code></pre>"},{"location":"reply-keyboards/#best-practices","title":"Best Practices","text":"<ol> <li>Use appropriate keyboard types: One-time keyboards for menus, persistent for ongoing interactions</li> <li>Keep it simple: Don't overload users with too many options</li> <li>Use emojis: They make buttons more recognizable</li> <li>Handle all responses: Make sure your bot can handle all possible button presses</li> <li>Consider mobile: Test on mobile devices as button layout may differ</li> </ol>"},{"location":"reply-keyboards/#error-handling","title":"Error Handling","text":"<pre><code>from pykeyboard import ConfigurationError\n\ntry:\n    keyboard = ReplyKeyboard(row_width=0)  # Invalid\nexcept ConfigurationError as e:\n    print(f\"Error code: {e.error_code}\")\n    print(f\"Parameter: {e.param}\")  # \"row_width\"\n    print(f\"Value: {e.value}\")      # 0\n</code></pre>"},{"location":"api/builder/","title":"Builder &amp; Factory","text":""},{"location":"api/builder/#keyboardbuilder-class","title":"KeyboardBuilder Class","text":"<p>Fluent API for constructing keyboards with method chaining.</p>"},{"location":"api/builder/#constructor","title":"Constructor","text":"<pre><code>KeyboardBuilder(keyboard: InlineKeyboard | ReplyKeyboard)\n</code></pre>"},{"location":"api/builder/#add_button-method","title":"add_button method","text":"<p>Add a single button.</p> Parameter Type Default Description <code>text</code> <code>str</code> \u2014 Button text <code>callback_data</code> <code>str \\| None</code> <code>None</code> Callback data (inline only) <code>**kwargs</code> Additional button parameters <p>Returns: <code>KeyboardBuilder</code> (chainable)</p>"},{"location":"api/builder/#add_buttons-method","title":"add_buttons method","text":"<p>Add multiple buttons at once.</p> <pre><code>builder.add_buttons(*buttons)\n</code></pre> <p>Accepts strings, dicts with button params, or button objects.</p> <p>Returns: <code>KeyboardBuilder</code> (chainable)</p>"},{"location":"api/builder/#add_row-method","title":"add_row method","text":"<p>Add a complete row of buttons.</p> <pre><code>builder.add_row(*buttons)\n</code></pre> <p>Returns: <code>KeyboardBuilder</code> (chainable)</p> Fluent Example <pre><code>from pykeyboard import KeyboardBuilder, InlineKeyboard\n\nkb = (\n    KeyboardBuilder(InlineKeyboard())\n    .add_row(\"\u2705 Yes\", \"\u274c No\")\n    .add_row(\"\ud83e\udd14 Maybe\", \"\u23ea Cancel\")\n    .build()\n)\n</code></pre>"},{"location":"api/builder/#add_conditional_button-method","title":"add_conditional_button method","text":"<p>Add a button only if a condition is <code>True</code>.</p> Parameter Type Description <code>condition</code> <code>bool</code> Whether to add the button <code>text</code> <code>str</code> Button text <code>callback_data</code> <code>str \\| None</code> Callback data <p>Returns: <code>KeyboardBuilder</code> (chainable)</p> Usage <pre><code>is_admin = user.is_admin\nkb = (\n    KeyboardBuilder(InlineKeyboard())\n    .add_row(\"\ud83d\udcca Dashboard\")\n    .add_conditional_button(is_admin, \"\ud83d\udd27 Admin Panel\", \"admin\")\n    .build()\n)\n</code></pre>"},{"location":"api/builder/#add_navigation_buttons-method","title":"add_navigation_buttons method","text":"<p>Add pagination navigation buttons.</p> Parameter Type Default Description <code>total_pages</code> <code>int</code> \u2014 Total pages <code>current_page</code> <code>int</code> \u2014 Current page <code>callback_pattern</code> <code>str</code> <code>\"page_{number}\"</code> Callback pattern <p>Returns: <code>KeyboardBuilder</code> (chainable)</p>"},{"location":"api/builder/#add_language_buttons-method","title":"add_language_buttons method","text":"<p>Add language selection buttons.</p> Parameter Type Default Description <code>locales</code> <code>list[str]</code> \u2014 Locale codes <code>callback_pattern</code> <code>str</code> <code>\"lang_{locale}\"</code> Callback pattern <code>row_width</code> <code>int</code> <code>2</code> Buttons per row <p>Returns: <code>KeyboardBuilder</code> (chainable)</p>"},{"location":"api/builder/#add_validation_hook-method","title":"add_validation_hook method","text":"<p>Add a validation hook that runs before adding buttons.</p> <p>Returns: <code>KeyboardBuilder</code> (chainable)</p>"},{"location":"api/builder/#add_button_transform-method","title":"add_button_transform method","text":"<p>Add a button transformation function.</p> <p>Returns: <code>KeyboardBuilder</code> (chainable)</p>"},{"location":"api/builder/#build-method","title":"build method","text":"<p>Build and return the final keyboard.</p> <p>Returns: <code>InlineKeyboard | ReplyKeyboard</code></p>"},{"location":"api/builder/#keyboardfactory-class","title":"KeyboardFactory Class","text":"<p>One-line factory methods for common keyboard patterns.</p>"},{"location":"api/builder/#create_confirmation_keyboard-static","title":"create_confirmation_keyboard static","text":"<pre><code>KeyboardFactory.create_confirmation_keyboard(\n    yes_text: str = \"\u2705 Yes\",\n    no_text: str = \"\u274c No\",\n    cancel_text: str | None = None,\n    callback_pattern: str = \"confirm_{action}\",\n    columns: int = 2,\n) -&gt; InlineKeyboard\n</code></pre> Usage <pre><code>kb = KeyboardFactory.create_confirmation_keyboard(\n    yes_text=\"\u2705 Confirm Order\",\n    no_text=\"\u274c Cancel\",\n    callback_pattern=\"order_{action}\",\n)\n</code></pre>"},{"location":"api/builder/#create_menu_keyboard-static","title":"create_menu_keyboard static","text":"<pre><code>KeyboardFactory.create_menu_keyboard(\n    menu_items: dict[str, str],\n    callback_pattern: str = \"menu_{action}\",\n    columns: int = 2,\n) -&gt; InlineKeyboard\n</code></pre> Usage <pre><code>kb = KeyboardFactory.create_menu_keyboard({\n    \"\ud83c\udfe0 Home\": \"home\",\n    \"\u2699\ufe0f Settings\": \"settings\",\n    \"\u2139\ufe0f Help\": \"help\",\n})\n</code></pre>"},{"location":"api/builder/#create_rating_keyboard-static","title":"create_rating_keyboard static","text":"<pre><code>KeyboardFactory.create_rating_keyboard(\n    max_rating: int = 5,\n    callback_pattern: str = \"rate_{stars}\",\n    include_labels: bool = True,\n) -&gt; InlineKeyboard\n</code></pre>"},{"location":"api/builder/#create_pagination_keyboard-static","title":"create_pagination_keyboard static","text":"<pre><code>KeyboardFactory.create_pagination_keyboard(\n    total_pages: int,\n    current_page: int,\n    callback_pattern: str = \"page_{number}\",\n    include_buttons: list[dict[str, str]] | None = None,\n) -&gt; InlineKeyboard\n</code></pre>"},{"location":"api/builder/#create_language_keyboard-static","title":"create_language_keyboard static","text":"<pre><code>KeyboardFactory.create_language_keyboard(\n    locales: list[str],\n    callback_pattern: str = \"lang_{locale}\",\n    row_width: int = 2,\n) -&gt; InlineKeyboard\n</code></pre>"},{"location":"api/builder/#clone_keyboard-static","title":"clone_keyboard static","text":"<p>Clone an existing keyboard (deep or shallow copy).</p> <pre><code>KeyboardFactory.clone_keyboard(\n    source_keyboard: InlineKeyboard | ReplyKeyboard,\n    deep_copy: bool = True,\n) -&gt; InlineKeyboard | ReplyKeyboard\n</code></pre> <p>Removed APIs</p> <p>The <code>keyboard_factory</code> decorator and standalone <code>build_inline_keyboard()</code> / <code>build_reply_keyboard()</code> functions have been removed. Use <code>KeyboardBuilder(InlineKeyboard())</code> and <code>KeyboardBuilder(ReplyKeyboard())</code> directly.</p>"},{"location":"api/buttons/","title":"Buttons","text":""},{"location":"api/buttons/#button-class","title":"Button Class","text":"<p>Base button model with text validation. All button types inherit from this.</p> <pre><code>Button(text: str)\n</code></pre> <p>Raises</p> <p><code>ValidationError</code> \u2014 if <code>text</code> is empty or whitespace-only</p>"},{"location":"api/buttons/#inlinebutton-class","title":"InlineButton Class","text":"<p>Inline keyboard button with full Pyrogram integration.</p>"},{"location":"api/buttons/#constructor","title":"Constructor","text":"<pre><code>InlineButton(\n    text: str,\n    callback_data: str | bytes | None = None,\n    url: str | None = None,\n    web_app: WebAppInfo | None = None,\n    login_url: LoginUrl | None = None,\n    user_id: int | None = None,\n    switch_inline_query: str | None = None,\n    switch_inline_query_current_chat: str | None = None,\n    callback_game: CallbackGame | None = None,\n    requires_password: bool | None = None,\n    pay: bool | None = None,\n    copy_text: str | None = None,\n)\n</code></pre>"},{"location":"api/buttons/#parameters","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>str</code> Display text (required) <code>callback_data</code> <code>str \\| bytes</code> Data sent on press <code>url</code> <code>str</code> URL to open <code>web_app</code> <code>WebAppInfo</code> Web app to launch <code>login_url</code> <code>LoginUrl</code> Authorization URL <code>user_id</code> <code>int</code> Target user ID <code>switch_inline_query</code> <code>str</code> Switch to inline mode <code>switch_inline_query_current_chat</code> <code>str</code> Inline query in current chat <code>callback_game</code> <code>CallbackGame</code> Game callback <code>requires_password</code> <code>bool</code> Require password <code>pay</code> <code>bool</code> Payment button <code>copy_text</code> <code>str</code> Text to copy to clipboard <p>Tip</p> <p>Only one action field should be set per button. The most common are <code>callback_data</code> and <code>url</code>.</p>"},{"location":"api/buttons/#methods","title":"Methods","text":""},{"location":"api/buttons/#to_pyrogram-method","title":"to_pyrogram method","text":"<p>Convert to Pyrogram <code>InlineKeyboardButton</code>.</p> Usage <pre><code>from pykeyboard import InlineButton\n\n# Callback button\nbtn = InlineButton(\"\ud83d\udc4d Like\", callback_data=\"like\")\n\n# URL button\nlink = InlineButton(\"\ud83d\udd17 Visit\", url=\"https://example.com\")\n\n# Contact button\ncontact = InlineButton(\"\ud83d\udcde Support\", user_id=123456)\n</code></pre>"},{"location":"api/buttons/#replybutton-class","title":"ReplyButton Class","text":"<p>Reply keyboard button with device feature requests.</p>"},{"location":"api/buttons/#constructor_1","title":"Constructor","text":"<pre><code>ReplyButton(\n    text: str,\n    request_contact: bool | None = None,\n    request_location: bool | None = None,\n    request_poll: KeyboardButtonPollType | None = None,\n    request_users: KeyboardButtonRequestUsers | None = None,\n    request_chat: KeyboardButtonRequestChat | None = None,\n    web_app: WebAppInfo | None = None,\n)\n</code></pre>"},{"location":"api/buttons/#parameters_1","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>str</code> Display text (required) <code>request_contact</code> <code>bool</code> Request phone number <code>request_location</code> <code>bool</code> Request GPS location <code>request_poll</code> <code>KeyboardButtonPollType</code> Request poll creation <code>request_users</code> <code>KeyboardButtonRequestUsers</code> Request user selection <code>request_chat</code> <code>KeyboardButtonRequestChat</code> Request chat selection <code>web_app</code> <code>WebAppInfo</code> Web app to launch <p>Tip</p> <p>Only one <code>request_*</code> field should be set per button.</p>"},{"location":"api/buttons/#methods_1","title":"Methods","text":""},{"location":"api/buttons/#to_pyrogram-method_1","title":"to_pyrogram method","text":"<p>Convert to Pyrogram <code>KeyboardButton</code>.</p> Usage <pre><code>from pykeyboard import ReplyButton\n\ncontact = ReplyButton(\"\ud83d\udcde Share Contact\", request_contact=True)\nlocation = ReplyButton(\"\ud83d\udccd Share Location\", request_location=True)\n</code></pre>"},{"location":"api/errors/","title":"Errors","text":"<p>All error classes are importable from <code>pykeyboard</code>.</p>"},{"location":"api/errors/#hierarchy","title":"Hierarchy","text":"<pre><code>classDiagram\n    direction LR\n    Exception &lt;|-- PyKeyboardError\n    PyKeyboardError &lt;|-- ValidationError\n    PyKeyboardError &lt;|-- PaginationError\n    PaginationError &lt;|-- PaginationUnchangedError\n    PyKeyboardError &lt;|-- LocaleError\n    PyKeyboardError &lt;|-- ConfigurationError</code></pre>"},{"location":"api/errors/#pykeyboarderror-base","title":"PyKeyboardError Base","text":"<p>Base class for all PyKeyboard errors. Catch this to handle any library error.</p> <pre><code>PyKeyboardError(\n    message: str,\n    error_code: str = \"PYKEYBOARD_ERROR\",\n    param: str = \"\",\n    value: Any = None,\n    reason: str = \"\",\n)\n</code></pre>"},{"location":"api/errors/#common-attributes","title":"Common Attributes","text":"Attribute Type Description <code>error_code</code> <code>str</code> Stable identifier, e.g. <code>\"VALIDATION_ERROR\"</code> <code>message</code> <code>str</code> Human-readable description <code>param</code> <code>str</code> Parameter that caused the error <code>value</code> <code>Any</code> The invalid value <code>reason</code> <code>str</code> Additional context <p>Tip</p> <p>Use <code>error_code</code> for programmatic handling. Use <code>str(e)</code> for user-facing messages \u2014 it returns a clean, multi-line formatted string.</p>"},{"location":"api/errors/#validationerror-class","title":"ValidationError Class","text":"<p>Raised when button or keyboard input fails validation.</p> <p>Error code: <code>VALIDATION_ERROR</code></p> <pre><code>ValidationError(param: str, value: Any, reason: str = \"\")\n</code></pre> Example <pre><code>from pykeyboard.keyboard_base import Button\n\ntry:\n    Button(text=\"\")\nexcept ValidationError as e:\n    print(e.error_code)  # \"VALIDATION_ERROR\"\n    print(e.param)       # \"text\"\n</code></pre>"},{"location":"api/errors/#paginationerror-class","title":"PaginationError Class","text":"<p>Raised when pagination parameters are invalid.</p> <p>Error code: <code>PAGINATION_ERROR</code></p> <pre><code>PaginationError(param: str, value: Any, reason: str = \"\")\n</code></pre> Example <pre><code>from pykeyboard import InlineKeyboard, PaginationError\n\ntry:\n    InlineKeyboard().paginate(0, 1, \"page:{number}\")\nexcept PaginationError as e:\n    print(e.param)  # \"count_pages\"\n    print(e.value)  # 0\n</code></pre>"},{"location":"api/errors/#paginationunchangederror-class","title":"PaginationUnchangedError Class","text":"<p>Raised when an identical pagination keyboard was already generated (duplicate prevention).</p> <p>Error code: <code>PAGINATION_UNCHANGED</code> Inherits: <code>PaginationError</code></p> Example <pre><code>from pykeyboard import PaginationUnchangedError\n\ntry:\n    kb.paginate(5, 3, \"page:{number}\")\nexcept PaginationUnchangedError:\n    await callback.answer(\"Already on this page\")\n</code></pre>"},{"location":"api/errors/#localeerror-class","title":"LocaleError Class","text":"<p>Raised when locale parameters are invalid.</p> <p>Error code: <code>LOCALE_ERROR</code></p> <pre><code>LocaleError(param: str, value: Any, reason: str = \"\")\n</code></pre>"},{"location":"api/errors/#configurationerror-class","title":"ConfigurationError Class","text":"<p>Raised when keyboard configuration is invalid.</p> <p>Error code: <code>CONFIGURATION_ERROR</code></p> <pre><code>ConfigurationError(param: str, value: Any, reason: str = \"\")\n</code></pre> Example <pre><code>from pykeyboard import InlineKeyboard, ConfigurationError\n\ntry:\n    InlineKeyboard(row_width=0)\nexcept ConfigurationError as e:\n    print(e.param)  # \"row_width\"\n    print(e.value)  # 0\n</code></pre>"},{"location":"api/hooks/","title":"Hooks &amp; Validation","text":""},{"location":"api/hooks/#buttonvalidator-class","title":"ButtonValidator Class","text":"<p>Configurable button validator with built-in and custom rules.</p>"},{"location":"api/hooks/#constructor","title":"Constructor","text":"<pre><code>ButtonValidator(include_defaults: bool = True)\n</code></pre> Parameter Type Default Description <code>include_defaults</code> <code>bool</code> <code>True</code> Include default validation rules (text length, callback data checks)"},{"location":"api/hooks/#add_rule-method","title":"add_rule method","text":"<p>Add a custom validation rule.</p> Parameter Type Description <code>rule</code> <code>Callable[[Any], str \\| None]</code> Returns <code>None</code> if valid, error message if invalid <p>Returns: <code>ButtonValidator</code> (chainable)</p> Usage <pre><code>from pykeyboard import ButtonValidator\n\nvalidator = ButtonValidator()\nvalidator.add_rule(lambda btn: \"Too long\" if len(btn.text) &gt; 50 else None)\n</code></pre>"},{"location":"api/hooks/#validate_button-method","title":"validate_button method","text":"<p>Validate a single button against all registered rules.</p> <p>Returns: <code>dict[str, Any]</code></p> Key Type Description <code>is_valid</code> <code>bool</code> Whether the button passed all rules <code>errors</code> <code>list[str]</code> Error messages from failed rules <code>checked_rules</code> <code>int</code> Number of rules checked Usage <pre><code>from pykeyboard import ButtonValidator, InlineButton\n\nvalidator = ButtonValidator()\nresult = validator.validate_button(InlineButton(\"OK\", \"ok\"))\nprint(result[\"is_valid\"])       # True\nprint(result[\"checked_rules\"])  # number of default rules\n</code></pre>"},{"location":"api/hooks/#keyboardhookmanager-class","title":"KeyboardHookManager Class","text":"<p>Manages hooks for keyboard construction lifecycle.</p>"},{"location":"api/hooks/#hook-types","title":"Hook Types","text":"Method Hook Signature When it Runs <code>add_button_hook(hook)</code> <code>(button) \u2192 button</code> Each button during construction <code>add_pre_hook(hook)</code> <code>(keyboard) \u2192 None</code> Before construction <code>add_post_hook(hook)</code> <code>(keyboard) \u2192 None</code> After construction <code>add_error_hook(hook)</code> <code>(exception, keyboard) \u2192 None</code> When a hook raises <p>All methods return <code>KeyboardHookManager</code> for chaining.</p>"},{"location":"api/hooks/#process_button-method","title":"process_button method","text":"<p>Process a button through all button hooks.</p> <pre><code>manager.process_button(button) -&gt; Any\n</code></pre>"},{"location":"api/hooks/#execute_pre_hooks-execute_post_hooks-method","title":"execute_pre_hooks / execute_post_hooks method","text":"<p>Execute all pre/post-construction hooks.</p> <pre><code>manager.execute_pre_hooks(keyboard)\nmanager.execute_post_hooks(keyboard)\n</code></pre> Full Example <pre><code>from pykeyboard import KeyboardHookManager\n\nmanager = KeyboardHookManager()\n\n# Uppercase all button text\nmanager.add_button_hook(\n    lambda btn: setattr(btn, \"text\", btn.text.upper()) or btn\n)\n\n# Log keyboard construction\nmanager.add_post_hook(\n    lambda kb: print(f\"Built keyboard with {len(kb.keyboard)} rows\")\n)\n</code></pre>"},{"location":"api/hooks/#convenience-functions","title":"Convenience Functions","text":""},{"location":"api/hooks/#validate_button-function","title":"validate_button function","text":"<p>Quick-validate a button with default rules.</p> <pre><code>from pykeyboard import validate_button, InlineButton\n\nis_valid = validate_button(InlineButton(\"OK\", \"ok\"))  # True\n</code></pre>"},{"location":"api/hooks/#validate_keyboard-function","title":"validate_keyboard function","text":"<p>Validate all buttons in a keyboard.</p> <pre><code>from pykeyboard.hooks import validate_keyboard\n\nresult = validate_keyboard(kb)\n</code></pre> <p>Returns: <code>dict[str, Any]</code></p> Key Type Description <code>is_valid</code> <code>bool</code> All buttons valid <code>total_buttons</code> <code>int</code> Total buttons checked <code>valid_buttons</code> <code>int</code> Buttons that passed <code>invalid_buttons</code> <code>int</code> Buttons that failed <code>errors</code> <code>list</code> Detailed error info"},{"location":"api/inline-keyboard/","title":"InlineKeyboard","text":"<p>Class</p> <p>Advanced inline keyboard with built-in pagination and 50+ language selection.</p>"},{"location":"api/inline-keyboard/#constructor","title":"Constructor","text":"<pre><code>InlineKeyboard(\n    row_width: int = 3,\n    callback_pattern: str = \"\",\n    count_pages: int = 0,\n    current_page: int = 0,\n    custom_locales: dict[str, str] | None = None,\n)\n</code></pre> Parameter Type Default Description <code>row_width</code> <code>int</code> <code>3</code> Buttons per row <code>callback_pattern</code> <code>str</code> <code>\"\"</code> Pattern for callback data <code>count_pages</code> <code>int</code> <code>0</code> Total pages (pagination) <code>current_page</code> <code>int</code> <code>0</code> Current page number <code>custom_locales</code> <code>dict</code> <code>None</code> User-defined custom locales"},{"location":"api/inline-keyboard/#methods","title":"Methods","text":""},{"location":"api/inline-keyboard/#paginate-method","title":"paginate method","text":"<p>Create pagination keyboard with duplicate prevention and LRU caching.</p> <pre><code>keyboard.paginate(\n    count_pages: int,\n    current_page: int,\n    callback_pattern: str,\n    source: str | None = None,\n)\n</code></pre> Parameter Type Description <code>count_pages</code> <code>int</code> Total pages (\u2265 1) <code>current_page</code> <code>int</code> Current page (\u2265 1) <code>callback_pattern</code> <code>str</code> Must contain <code>{number}</code> placeholder <code>source</code> <code>str \\| None</code> Source ID for multi-client isolation <p>Raises</p> <ul> <li><code>PaginationError</code> \u2014 invalid parameters</li> <li><code>PaginationUnchangedError</code> \u2014 identical keyboard already exists for this source</li> </ul> Usage <pre><code>from pykeyboard import InlineKeyboard, PaginationUnchangedError\n\nkb = InlineKeyboard()\ntry:\n    kb.paginate(10, 3, \"page:{number}\")\nexcept PaginationUnchangedError:\n    pass  # keyboard unchanged\n</code></pre>"},{"location":"api/inline-keyboard/#languages-method","title":"languages method","text":"<p>Create language selection keyboard with validation.</p> <pre><code>keyboard.languages(\n    callback_pattern: str,\n    locales: str | list[str],\n    row_width: int = 2,\n)\n</code></pre> Parameter Type Description <code>callback_pattern</code> <code>str</code> Must contain <code>{locale}</code> placeholder <code>locales</code> <code>str \\| list[str]</code> Locale code(s) to display <code>row_width</code> <code>int</code> Buttons per row (\u2265 1) <p>Raises</p> <p><code>LocaleError</code> \u2014 invalid locale parameters</p> Usage <pre><code>kb = InlineKeyboard()\nkb.languages(\"lang:{locale}\", [\"en_US\", \"es_ES\", \"fr_FR\"])\n</code></pre>"},{"location":"api/inline-keyboard/#add-method","title":"add method","text":"<p>Add buttons in rows based on <code>row_width</code>.</p> <pre><code>keyboard.add(*buttons)\n</code></pre> Usage <pre><code>kb = InlineKeyboard(row_width=2)\nkb.add(\n    InlineButton(\"A\", \"a\"),\n    InlineButton(\"B\", \"b\"),\n    InlineButton(\"C\", \"c\"),  # wraps to next row\n)\n</code></pre>"},{"location":"api/inline-keyboard/#row-method","title":"row method","text":"<p>Add a single row of buttons (ignores <code>row_width</code>).</p> <pre><code>keyboard.row(*buttons)\n</code></pre>"},{"location":"api/inline-keyboard/#add_custom_locale-method","title":"add_custom_locale method","text":"<p>Register a custom locale for language keyboards.</p> <pre><code>keyboard.add_custom_locale(locale_code: str, display_name: str)\n</code></pre> Usage <pre><code>kb = InlineKeyboard()\nkb.add_custom_locale(\"en_PIRATE\", \"\\U0001F3F4\\u200D\\u2620\\uFE0F Pirate English\")\nkb.languages(\"lang:{locale}\", [\"en_US\", \"en_PIRATE\"])\n</code></pre>"},{"location":"api/inline-keyboard/#remove_custom_locale-method","title":"remove_custom_locale method","text":"<p>Remove a custom locale. Returns <code>True</code> if removed, <code>False</code> if it didn't exist.</p> <pre><code>keyboard.remove_custom_locale(locale_code: str) -&gt; bool\n</code></pre>"},{"location":"api/inline-keyboard/#get_custom_locales-method","title":"get_custom_locales method","text":"<p>Get all custom locales defined on this keyboard.</p> <p>Returns: <code>dict[str, str]</code> \u2014 locale codes \u2192 display names</p>"},{"location":"api/inline-keyboard/#get_all_locales-method","title":"get_all_locales method","text":"<p>Get all available locales (built-in + custom).</p> <p>Returns: <code>dict[str, str]</code> \u2014 all locale codes \u2192 display names</p>"},{"location":"api/inline-keyboard/#clear_pagination_hashes-classmethod","title":"clear_pagination_hashes classmethod","text":"<p>Clear stored pagination hashes for memory management.</p> <pre><code>InlineKeyboard.clear_pagination_hashes(source: str | None = None) -&gt; int\n</code></pre> <p>Returns: Number of hashes cleared.</p>"},{"location":"api/inline-keyboard/#get_pagination_hash_stats-classmethod","title":"get_pagination_hash_stats classmethod","text":"<p>Get statistics about stored pagination hashes.</p> <p>Returns: <code>dict[str, Any]</code> with hash storage stats.</p>"},{"location":"api/inline-keyboard/#properties","title":"Properties","text":""},{"location":"api/inline-keyboard/#pyrogram_markup-property","title":"pyrogram_markup property","text":"<p>Get the Pyrogram <code>InlineKeyboardMarkup</code> for use with <code>reply_markup=</code>.</p> <p>Returns: <code>InlineKeyboardMarkup</code></p>"},{"location":"api/reply-keyboard/","title":"ReplyKeyboard","text":"<p>Class</p> <p>Reply keyboard with full Pyrogram integration and customization options.</p>"},{"location":"api/reply-keyboard/#constructor","title":"Constructor","text":"<pre><code>ReplyKeyboard(\n    row_width: int = 3,\n    is_persistent: bool | None = None,\n    resize_keyboard: bool | None = None,\n    one_time_keyboard: bool | None = None,\n    selective: bool | None = None,\n    placeholder: str | None = None,\n)\n</code></pre> Parameter Type Default Description <code>row_width</code> <code>int</code> <code>3</code> Buttons per row <code>is_persistent</code> <code>bool \\| None</code> <code>None</code> Keep keyboard visible <code>resize_keyboard</code> <code>bool \\| None</code> <code>None</code> Resize to fit content <code>one_time_keyboard</code> <code>bool \\| None</code> <code>None</code> Hide after one use <code>selective</code> <code>bool \\| None</code> <code>None</code> Show only to specific users <code>placeholder</code> <code>str \\| None</code> <code>None</code> Input field placeholder text <p>Raises</p> <p><code>ConfigurationError</code> \u2014 if <code>row_width</code> &lt; 1</p>"},{"location":"api/reply-keyboard/#methods","title":"Methods","text":""},{"location":"api/reply-keyboard/#add-method","title":"add method","text":"<p>Add buttons in rows based on <code>row_width</code>.</p> <pre><code>keyboard.add(*buttons)\n</code></pre> Usage <pre><code>from pykeyboard import ReplyKeyboard, ReplyButton\n\nkb = ReplyKeyboard(row_width=2, resize_keyboard=True)\nkb.add(\n    ReplyButton(\"\ud83d\udcde Share Contact\", request_contact=True),\n    ReplyButton(\"\ud83d\udccd Share Location\", request_location=True),\n)\n</code></pre>"},{"location":"api/reply-keyboard/#row-method","title":"row method","text":"<p>Add a single explicit row of buttons (ignores <code>row_width</code>).</p> <pre><code>keyboard.row(*buttons)\n</code></pre>"},{"location":"api/reply-keyboard/#properties","title":"Properties","text":""},{"location":"api/reply-keyboard/#pyrogram_markup-property","title":"pyrogram_markup property","text":"<p>Get the Pyrogram <code>ReplyKeyboardMarkup</code> for use with <code>reply_markup=</code>.</p> <p>Returns: <code>ReplyKeyboardMarkup</code></p>"},{"location":"api/reply-keyboard/#related-classes","title":"Related Classes","text":""},{"location":"api/reply-keyboard/#pyreplykeyboardremove-class","title":"PyReplyKeyboardRemove Class","text":"<p>Remove reply keyboard markup.</p> <pre><code>PyReplyKeyboardRemove(selective: bool | None = None)\n</code></pre> Method Returns Description <code>to_pyrogram()</code> <code>ReplyKeyboardRemove</code> Pyrogram-compatible markup Usage <pre><code>from pykeyboard import PyReplyKeyboardRemove\n\nawait message.reply(\"Keyboard removed\", reply_markup=PyReplyKeyboardRemove())\n</code></pre>"},{"location":"api/reply-keyboard/#pyforcereply-class","title":"PyForceReply Class","text":"<p>Force the user to send a reply.</p> <pre><code>PyForceReply(\n    selective: bool | None = None,\n    placeholder: str | None = None,\n)\n</code></pre> Method Returns Description <code>to_pyrogram()</code> <code>ForceReply</code> Pyrogram-compatible markup Usage <pre><code>from pykeyboard import PyForceReply\n\nawait message.reply(\"Your name?\", reply_markup=PyForceReply(placeholder=\"Type here...\"))\n</code></pre>"},{"location":"api/utilities/","title":"Utilities","text":"<p>Utility functions for creating and inspecting keyboards from configuration dicts.</p> <p>Importable from <code>pykeyboard.utils</code>.</p>"},{"location":"api/utilities/#create_keyboard_from_config-function","title":"create_keyboard_from_config function","text":"<p>Create a keyboard from a configuration dictionary.</p> <pre><code>create_keyboard_from_config(config: dict[str, Any]) -&gt; InlineKeyboard | ReplyKeyboard\n</code></pre>"},{"location":"api/utilities/#config-keys","title":"Config Keys","text":"Key Type Default Description <code>type</code> <code>str</code> <code>\"inline\"</code> <code>\"inline\"</code> or <code>\"reply\"</code> <code>row_width</code> <code>int</code> \u2014 Buttons per row <code>buttons</code> <code>list</code> <code>[]</code> Button configs (dicts or plain strings) <p>Raises</p> <p><code>ValueError</code> \u2014 if <code>type</code> is not <code>\"inline\"</code> or <code>\"reply\"</code></p> Usage <pre><code>from pykeyboard.utils import create_keyboard_from_config\n\nkb = create_keyboard_from_config({\n    \"type\": \"inline\",\n    \"row_width\": 2,\n    \"buttons\": [\n        {\"text\": \"Yes\", \"callback_data\": \"yes\"},\n        {\"text\": \"No\", \"callback_data\": \"no\"},\n    ],\n})\n</code></pre>"},{"location":"api/utilities/#get_keyboard_info-function","title":"get_keyboard_info function","text":"<p>Get comprehensive metadata about a keyboard.</p> <pre><code>get_keyboard_info(keyboard: InlineKeyboard | ReplyKeyboard) -&gt; dict[str, Any]\n</code></pre>"},{"location":"api/utilities/#return-fields","title":"Return Fields","text":"CommonInlineKeyboard extrasReplyKeyboard extras Key Type Description <code>type</code> <code>str</code> Class name <code>row_width</code> <code>int</code> Row width <code>total_buttons</code> <code>int</code> Total buttons <code>total_rows</code> <code>int</code> Number of rows Key Type Description <code>has_pagination</code> <code>bool</code> Has pagination <code>current_page</code> <code>int</code> Current page <code>total_pages</code> <code>int</code> Total pages <code>callback_pattern</code> <code>str</code> Callback pattern <code>custom_locales_count</code> <code>int</code> Custom locales count Key Type Description <code>is_persistent</code> <code>bool</code> Persistent keyboard <code>resize_keyboard</code> <code>bool</code> Auto-resize <code>one_time_keyboard</code> <code>bool</code> One-time use <code>selective</code> <code>bool</code> Selective display <code>placeholder</code> <code>str</code> Input placeholder Usage <pre><code>from pykeyboard import InlineKeyboard, InlineButton\nfrom pykeyboard.utils import get_keyboard_info\n\nkb = InlineKeyboard()\nkb.add(InlineButton(\"OK\", \"ok\"))\ninfo = get_keyboard_info(kb)\nprint(info[\"total_buttons\"])  # 1\n</code></pre>"},{"location":"api/utilities/#validate_keyboard_config-function","title":"validate_keyboard_config function","text":"<p>Validate a configuration dict before creating a keyboard.</p> <pre><code>validate_keyboard_config(config: dict[str, Any]) -&gt; list[str]\n</code></pre> <p>Returns: List of error messages (empty if valid).</p> Usage <pre><code>from pykeyboard.utils import validate_keyboard_config\n\nerrors = validate_keyboard_config({\"type\": \"unknown\", \"row_width\": -1})\n# [\"Invalid keyboard type: unknown\", \"row_width must be a positive integer\"]\n</code></pre>"},{"location":"examples/basic-bot/","title":"Basic Bot Example","text":"<p>A minimal bot demonstrating inline keyboard creation and callback handling.</p> <p>Tested Reference</p> <p>For a fully tested, comprehensive example, see the Showcase Bot.</p>"},{"location":"examples/basic-bot/#overview","title":"Overview","text":"<p>This example shows:</p> <ul> <li>Creating a basic inline keyboard</li> <li>Handling callback queries</li> <li>Error handling with <code>PyKeyboardError</code></li> </ul>"},{"location":"examples/basic-bot/#code","title":"Code","text":"<pre><code>from pyrogram import Client, filters\nfrom pykeyboard import InlineKeyboard, InlineButton, PyKeyboardError\n\napp = Client(\"basic_bot\")\n\n\ndef main_keyboard():\n    \"\"\"Create the main menu keyboard.\"\"\"\n    keyboard = InlineKeyboard(row_width=3)\n    keyboard.add(\n        InlineButton(\"Option 1\", callback_data=\"option1\"),\n        InlineButton(\"Option 2\", callback_data=\"option2\"),\n        InlineButton(\"Help\", callback_data=\"help\"),\n    )\n    return keyboard\n\n\n@app.on_message(filters.command(\"start\"))\nasync def start_command(client, message):\n    await message.reply_text(\n        \"Choose an option:\",\n        reply_markup=main_keyboard(),\n    )\n\n\n@app.on_callback_query()\nasync def handle_callback(client, callback_query):\n    data = callback_query.data\n\n    try:\n        match data:\n            case \"option1\":\n                await callback_query.answer(\"You selected Option 1!\")\n                await callback_query.edit_message_text(\n                    \"You chose Option 1\",\n                    reply_markup=main_keyboard(),\n                )\n            case \"option2\":\n                await callback_query.answer(\"You selected Option 2!\")\n                await callback_query.edit_message_text(\n                    \"You chose Option 2\",\n                    reply_markup=main_keyboard(),\n                )\n            case \"help\":\n                await callback_query.edit_message_text(\n                    \"\u2139\ufe0f **Help**\\n\\n\"\n                    \"\u2022 Option 1/2: Demo callback responses\\n\"\n                    \"\u2022 Use /start to reset the keyboard\",\n                    reply_markup=main_keyboard(),\n                )\n            case _:\n                await callback_query.answer(f\"Unknown: {data}\")\n    except PyKeyboardError as e:\n        await callback_query.answer(f\"Error: {e.error_code}\")\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"examples/basic-bot/#features-demonstrated","title":"Features Demonstrated","text":"<ul> <li>Inline keyboard creation with <code>InlineKeyboard</code> and <code>InlineButton</code></li> <li>Callback query routing with <code>match/case</code></li> <li>Error handling with <code>PyKeyboardError</code></li> <li>Keyboard re-display after each action</li> </ul>"},{"location":"examples/basic-bot/#running","title":"Running","text":"<pre><code>pip install pykeyboard-kurigram\nexport TELEGRAM_BOT_TOKEN=\"...\"\nexport TELEGRAM_API_ID=\"...\"\nexport TELEGRAM_API_HASH=\"...\"\npython basic_bot.py\n</code></pre> <p>Send <code>/start</code> to see the keyboard.</p>"},{"location":"examples/ecommerce/","title":"E-commerce Bot Example","text":"<p>A product catalog bot with shopping cart, pagination, and checkout using <code>KeyboardFactory</code>.</p> <p>Tested Reference</p> <p>For a fully tested, comprehensive example, see the Showcase Bot.</p>"},{"location":"examples/ecommerce/#overview","title":"Overview","text":"<p>This example shows:</p> <ul> <li>Product catalog with pagination</li> <li>Shopping cart management (add/remove items)</li> <li>Checkout with <code>KeyboardFactory.create_confirmation_keyboard()</code></li> <li>Error handling with <code>PyKeyboardError</code></li> </ul>"},{"location":"examples/ecommerce/#code","title":"Code","text":"<pre><code>from pyrogram import Client, filters\nfrom pykeyboard import (\n    InlineKeyboard,\n    InlineButton,\n    KeyboardFactory,\n    PyKeyboardError,\n    PaginationUnchangedError,\n)\n\napp = Client(\"ecommerce_bot\")\n\n# Mock product data\nPRODUCTS = [\n    {\"id\": 1, \"name\": \"Wireless Headphones\", \"price\": 99.99, \"category\": \"Electronics\"},\n    {\"id\": 2, \"name\": \"Smart Watch\", \"price\": 199.99, \"category\": \"Electronics\"},\n    {\"id\": 3, \"name\": \"Coffee Maker\", \"price\": 79.99, \"category\": \"Appliances\"},\n    {\"id\": 4, \"name\": \"Running Shoes\", \"price\": 129.99, \"category\": \"Sports\"},\n    {\"id\": 5, \"name\": \"Yoga Mat\", \"price\": 39.99, \"category\": \"Sports\"},\n    {\"id\": 6, \"name\": \"Cookbook\", \"price\": 24.99, \"category\": \"Books\"},\n]\n\nPER_PAGE = 3\n\n# User cart storage (in production, use a database)\nuser_carts: dict[int, list[dict]] = {}\n\n\ndef get_products_page(page: int) -&gt; list[dict]:\n    \"\"\"Get products for a specific page.\"\"\"\n    start = (page - 1) * PER_PAGE\n    return PRODUCTS[start : start + PER_PAGE]\n\n\ndef total_pages() -&gt; int:\n    return (len(PRODUCTS) + PER_PAGE - 1) // PER_PAGE\n\n\ndef create_product_keyboard(products: list[dict], current_page: int) -&gt; InlineKeyboard:\n    \"\"\"Create keyboard for product listing with pagination.\"\"\"\n    keyboard = InlineKeyboard()\n\n    for product in products:\n        keyboard.row(\n            InlineButton(\n                f\"{product['name']} - ${product['price']}\",\n                callback_data=f\"product:{product['id']}\",\n            ),\n            InlineButton(\"\ud83d\uded2 Add\", callback_data=f\"add_cart:{product['id']}\"),\n        )\n\n    # Add pagination if needed\n    pages = total_pages()\n    if pages &gt; 1:\n        try:\n            keyboard.paginate(pages, current_page, \"page:{number}\")\n        except PaginationUnchangedError:\n            pass  # Same page \u2014 skip\n\n    # Cart and categories row\n    keyboard.row(\n        InlineButton(\"\ud83d\uded2 View Cart\", callback_data=\"view_cart\"),\n        InlineButton(\"\ud83d\udcc2 Categories\", callback_data=\"categories\"),\n    )\n\n    return keyboard\n\n\ndef create_cart_keyboard(cart_items: list[dict]) -&gt; InlineKeyboard:\n    \"\"\"Create keyboard for cart management.\"\"\"\n    keyboard = InlineKeyboard()\n\n    if not cart_items:\n        keyboard.add(InlineButton(\"\ud83d\udecd\ufe0f Continue Shopping\", callback_data=\"page:1\"))\n        return keyboard\n\n    total = sum(item[\"price\"] * item[\"quantity\"] for item in cart_items)\n\n    for item in cart_items:\n        subtotal = item[\"price\"] * item[\"quantity\"]\n        keyboard.row(\n            InlineButton(\n                f\"{item['name']} x{item['quantity']} \u2014 ${subtotal:.2f}\",\n                callback_data=f\"cart_item:{item['id']}\",\n            ),\n            InlineButton(\"\u2795\", callback_data=f\"cart_add:{item['id']}\"),\n            InlineButton(\"\u2796\", callback_data=f\"cart_remove:{item['id']}\"),\n        )\n\n    keyboard.row(InlineButton(f\"\ud83d\udcb0 Total: ${total:.2f}\", callback_data=\"noop\"))\n    keyboard.row(\n        InlineButton(\"\u2705 Checkout\", callback_data=\"checkout\"),\n        InlineButton(\"\ud83d\udecd\ufe0f Shop\", callback_data=\"page:1\"),\n        InlineButton(\"\ud83d\uddd1\ufe0f Clear\", callback_data=\"clear_cart\"),\n    )\n\n    return keyboard\n\n\n@app.on_message(filters.command(\"start\"))\nasync def start_command(client, message):\n    user_carts[message.from_user.id] = []\n    products = get_products_page(1)\n    keyboard = create_product_keyboard(products, 1)\n\n    await message.reply_text(\n        \"\ud83d\udecd\ufe0f **Welcome to our Store!**\\n\\n\"\n        \"Browse our products and add them to your cart:\",\n        reply_markup=keyboard,\n    )\n\n\n@app.on_callback_query(filters.regex(r\"^page:\"))\nasync def handle_pagination(client, callback_query):\n    page = int(callback_query.data.split(\":\")[1])\n    products = get_products_page(page)\n    pages = total_pages()\n\n    try:\n        keyboard = create_product_keyboard(products, page)\n        await callback_query.edit_message_text(\n            f\"\ud83d\udecd\ufe0f **Products (Page {page}/{pages})**\\n\\n\"\n            \"Browse our products:\",\n            reply_markup=keyboard,\n        )\n    except PyKeyboardError as e:\n        await callback_query.answer(f\"Error: {e.error_code}\")\n\n    await callback_query.answer()\n\n\n@app.on_callback_query(filters.regex(r\"^add_cart:\"))\nasync def handle_add_to_cart(client, callback_query):\n    user_id = callback_query.from_user.id\n    product_id = int(callback_query.data.split(\":\")[1])\n\n    if user_id not in user_carts:\n        user_carts[user_id] = []\n\n    product = next((p for p in PRODUCTS if p[\"id\"] == product_id), None)\n    if product:\n        cart_item = next(\n            (item for item in user_carts[user_id] if item[\"id\"] == product_id),\n            None,\n        )\n        if cart_item:\n            cart_item[\"quantity\"] += 1\n        else:\n            user_carts[user_id].append({**product, \"quantity\": 1})\n\n        await callback_query.answer(f\"\u2705 {product['name']} added to cart!\")\n\n\n@app.on_callback_query(filters.regex(r\"^view_cart$\"))\nasync def handle_view_cart(client, callback_query):\n    user_id = callback_query.from_user.id\n    cart_items = user_carts.get(user_id, [])\n    keyboard = create_cart_keyboard(cart_items)\n\n    if not cart_items:\n        text = \"\ud83d\uded2 **Your Cart**\\n\\nYour cart is empty.\"\n    else:\n        lines = [f\"\u2022 {item['name']} x{item['quantity']} \u2014 \"\n                 f\"${item['price'] * item['quantity']:.2f}\"\n                 for item in cart_items]\n        total = sum(item[\"price\"] * item[\"quantity\"] for item in cart_items)\n        text = \"\ud83d\uded2 **Your Cart**\\n\\n\" + \"\\n\".join(lines) + f\"\\n\\n**Total: ${total:.2f}**\"\n\n    await callback_query.edit_message_text(text, reply_markup=keyboard)\n    await callback_query.answer()\n\n\n@app.on_callback_query(filters.regex(r\"^checkout$\"))\nasync def handle_checkout(client, callback_query):\n    user_id = callback_query.from_user.id\n    cart_items = user_carts.get(user_id, [])\n\n    if not cart_items:\n        await callback_query.answer(\"Your cart is empty!\")\n        return\n\n    total = sum(item[\"price\"] * item[\"quantity\"] for item in cart_items)\n\n    # Use KeyboardFactory for confirmation dialog\n    keyboard = KeyboardFactory.create_confirmation_keyboard(\n        yes_text=\"\u2705 Confirm Order\",\n        no_text=\"\u274c Cancel\",\n        callback_pattern=\"order_{action}\",\n    )\n\n    lines = [f\"\u2022 {item['name']} x{item['quantity']} \u2014 \"\n             f\"${item['price'] * item['quantity']:.2f}\"\n             for item in cart_items]\n    summary = \"\ud83d\udccb **Order Summary**\\n\\n\" + \"\\n\".join(lines)\n    summary += f\"\\n\\n**Total: ${total:.2f}**\\n\\nConfirm your order?\"\n\n    await callback_query.edit_message_text(summary, reply_markup=keyboard)\n    await callback_query.answer()\n\n\n@app.on_callback_query(filters.regex(r\"^order_\"))\nasync def handle_order_confirmation(client, callback_query):\n    action = callback_query.data.split(\"_\")[1]\n    user_id = callback_query.from_user.id\n\n    if action == \"yes\":\n        cart_items = user_carts.get(user_id, [])\n        total = sum(item[\"price\"] * item[\"quantity\"] for item in cart_items)\n        user_carts[user_id] = []\n\n        back_kb = InlineKeyboard()\n        back_kb.add(InlineButton(\"\ud83d\udecd\ufe0f Continue Shopping\", callback_data=\"page:1\"))\n\n        await callback_query.edit_message_text(\n            f\"\u2705 **Order Confirmed!**\\n\\n\"\n            f\"Total: ${total:.2f}\\n\\n\"\n            \"You will receive a confirmation email shortly.\",\n            reply_markup=back_kb,\n        )\n    else:\n        keyboard = create_product_keyboard(get_products_page(1), 1)\n        await callback_query.edit_message_text(\n            \"\u274c Order cancelled.\\n\\nYou can continue shopping:\",\n            reply_markup=keyboard,\n        )\n\n    await callback_query.answer()\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"examples/ecommerce/#e-commerce-flow","title":"E-commerce Flow","text":"<pre><code>graph LR\n    A[Browse Products] --&gt; B[Add to Cart]\n    B --&gt; C[View Cart]\n    C --&gt; D[Checkout]\n    D --&gt; E{Confirm?}\n    E --&gt;|Yes| F[Order Confirmed]\n    E --&gt;|No| A</code></pre>"},{"location":"examples/ecommerce/#features-demonstrated","title":"Features Demonstrated","text":"<ul> <li>Product catalog with <code>paginate()</code> and <code>PaginationUnchangedError</code> handling</li> <li>Shopping cart with add/remove buttons per item</li> <li><code>KeyboardFactory.create_confirmation_keyboard()</code> for checkout</li> <li>Error handling with <code>PyKeyboardError</code></li> </ul>"},{"location":"examples/ecommerce/#running","title":"Running","text":"<pre><code>pip install pykeyboard-kurigram\nexport TELEGRAM_BOT_TOKEN=\"...\"\nexport TELEGRAM_API_ID=\"...\"\nexport TELEGRAM_API_HASH=\"...\"\npython ecommerce_bot.py\n</code></pre> <p>Send <code>/start</code> to begin shopping.</p>"},{"location":"examples/menu-system/","title":"Menu System Example","text":"<p>A hierarchical menu bot demonstrating navigation between different menu levels using <code>KeyboardBuilder</code>.</p> <p>Tested Reference</p> <p>For a fully tested, comprehensive example, see the Showcase Bot.</p>"},{"location":"examples/menu-system/#overview","title":"Overview","text":"<p>This example shows:</p> <ul> <li>Creating multi-level menu systems</li> <li>Navigation between menus with back buttons</li> <li>Using <code>KeyboardBuilder</code> for fluent keyboard construction</li> <li>State management for menu context</li> </ul>"},{"location":"examples/menu-system/#code","title":"Code","text":"<pre><code>from pyrogram import Client, filters\nfrom pykeyboard import KeyboardBuilder, InlineKeyboard, InlineButton, PyKeyboardError\n\napp = Client(\"menu_bot\")\n\n# Menu state storage (in production, use a database)\nuser_menu_states: dict[int, str] = {}\n\n\ndef create_main_menu() -&gt; InlineKeyboard:\n    return (\n        KeyboardBuilder(InlineKeyboard(row_width=2))\n        .add_row(\"\ud83d\udcca Dashboard\", \"\u2699\ufe0f Settings\")\n        .add_row(\"\ud83d\udc64 Profile\", \"\u2139\ufe0f Help\")\n        .build()\n    )\n\n\ndef create_settings_menu() -&gt; InlineKeyboard:\n    keyboard = InlineKeyboard(row_width=1)\n    keyboard.add(\n        InlineButton(\"\ud83d\udd14 Notifications\", callback_data=\"settings:notifications\"),\n        InlineButton(\"\ud83c\udf10 Language\", callback_data=\"settings:language\"),\n        InlineButton(\"\ud83d\udd12 Privacy\", callback_data=\"settings:privacy\"),\n        InlineButton(\"\u2b05\ufe0f Back\", callback_data=\"menu:main\"),\n    )\n    return keyboard\n\n\ndef create_profile_menu() -&gt; InlineKeyboard:\n    keyboard = InlineKeyboard(row_width=1)\n    keyboard.add(\n        InlineButton(\"\ud83d\udcdd Edit Profile\", callback_data=\"profile:edit\"),\n        InlineButton(\"\ud83d\udcf8 Change Photo\", callback_data=\"profile:photo\"),\n        InlineButton(\"\ud83d\udcca Statistics\", callback_data=\"profile:stats\"),\n        InlineButton(\"\u2b05\ufe0f Back\", callback_data=\"menu:main\"),\n    )\n    return keyboard\n\n\nMENUS = {\n    \"main\": (\"\ud83c\udfe0 **Main Menu**\\n\\nChoose an option:\", create_main_menu),\n    \"settings\": (\"\u2699\ufe0f **Settings**\\n\\nConfigure your preferences:\", create_settings_menu),\n    \"profile\": (\"\ud83d\udc64 **Profile**\\n\\nManage your profile:\", create_profile_menu),\n}\n\n\n@app.on_message(filters.command(\"start\"))\nasync def start_command(client, message):\n    user_menu_states[message.from_user.id] = \"main\"\n    await message.reply_text(\n        \"\ud83c\udfe0 **Main Menu**\\n\\nWelcome! Choose an option:\",\n        reply_markup=create_main_menu(),\n    )\n\n\n@app.on_callback_query(filters.regex(r\"^menu:\"))\nasync def handle_menu_navigation(client, callback_query):\n    user_id = callback_query.from_user.id\n    menu_action = callback_query.data.split(\":\", 1)[1]\n\n    try:\n        if menu_action == \"help\":\n            await callback_query.edit_message_text(\n                \"\u2139\ufe0f **Help**\\n\\n\"\n                \"\u2022 Dashboard: View your statistics\\n\"\n                \"\u2022 Settings: Configure preferences\\n\"\n                \"\u2022 Profile: Manage your account\\n\\n\"\n                \"Use the Back buttons to navigate.\",\n                reply_markup=create_main_menu(),\n            )\n        elif menu_action == \"dashboard\":\n            await callback_query.edit_message_text(\n                \"\ud83d\udcca **Dashboard**\\n\\nYour stats will appear here.\",\n                reply_markup=create_main_menu(),\n            )\n        elif menu_action in MENUS:\n            text, factory = MENUS[menu_action]\n            user_menu_states[user_id] = menu_action\n            await callback_query.edit_message_text(text, reply_markup=factory())\n        else:\n            await callback_query.answer(f\"Unknown menu: {menu_action}\")\n    except PyKeyboardError as e:\n        await callback_query.answer(f\"Error: {e.error_code}\")\n\n    await callback_query.answer()\n\n\n@app.on_callback_query(filters.regex(r\"^(settings|profile):\"))\nasync def handle_submenu_actions(client, callback_query):\n    section, action = callback_query.data.split(\":\", 1)\n    await callback_query.answer(f\"{section.title()} \u2192 {action} opened!\")\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"examples/menu-system/#menu-structure","title":"Menu Structure","text":"<pre><code>Main Menu\n\u251c\u2500\u2500 \ud83d\udcca Dashboard\n\u251c\u2500\u2500 \u2699\ufe0f Settings\n\u2502   \u251c\u2500\u2500 \ud83d\udd14 Notifications\n\u2502   \u251c\u2500\u2500 \ud83c\udf10 Language\n\u2502   \u2514\u2500\u2500 \ud83d\udd12 Privacy\n\u251c\u2500\u2500 \ud83d\udc64 Profile\n\u2502   \u251c\u2500\u2500 \ud83d\udcdd Edit Profile\n\u2502   \u251c\u2500\u2500 \ud83d\udcf8 Change Photo\n\u2502   \u2514\u2500\u2500 \ud83d\udcca Statistics\n\u2514\u2500\u2500 \u2139\ufe0f Help\n</code></pre>"},{"location":"examples/menu-system/#features-demonstrated","title":"Features Demonstrated","text":"<ul> <li><code>KeyboardBuilder</code> fluent API for main menu</li> <li><code>InlineKeyboard.add()</code> for sub-menus with back buttons</li> <li>Menu routing via <code>match</code> on callback data sections</li> <li><code>MENUS</code> lookup dict to reduce repetition</li> <li><code>PyKeyboardError</code> handling</li> </ul>"},{"location":"examples/menu-system/#running","title":"Running","text":"<pre><code>pip install pykeyboard-kurigram\nexport TELEGRAM_BOT_TOKEN=\"...\"\nexport TELEGRAM_API_ID=\"...\"\nexport TELEGRAM_API_HASH=\"...\"\npython menu_system.py\n</code></pre> <p>Send <code>/start</code> to see the main menu. Navigate through different levels.</p>"},{"location":"examples/multilingual/","title":"Multi-language Bot Example","text":"<p>A multilingual bot with language selection, custom locales, and dynamic content translation using PyKeyboard's built-in language support.</p> <p>Tested Reference</p> <p>For a fully tested, comprehensive example, see the Showcase Bot.</p>"},{"location":"examples/multilingual/#overview","title":"Overview","text":"<p>This example shows:</p> <ul> <li>Language selection using built-in locales via <code>languages()</code></li> <li>Custom locale registration with <code>add_custom_locale()</code></li> <li>Dynamic content translation</li> <li>Persistent language preferences</li> </ul>"},{"location":"examples/multilingual/#code","title":"Code","text":"<pre><code>from pyrogram import Client, filters\nfrom pykeyboard import InlineKeyboard, InlineButton\n\napp = Client(\"multilingual_bot\")\n\n# Language storage (in production, use a database)\nuser_languages: dict[int, str] = {}\n\n# Translation dictionaries\nTRANSLATIONS: dict[str, dict[str, str]] = {\n    \"en_US\": {\n        \"welcome\": \"\ud83c\udfe0 **Welcome!**\\n\\nChoose your language:\",\n        \"main_menu\": \"\ud83c\udfe0 **Main Menu**\\n\\nWhat would you like to do?\",\n        \"settings\": \"\u2699\ufe0f **Settings**\",\n        \"language\": \"\ud83c\udf10 **Language**\\n\\nSelect your preferred language:\",\n        \"help\": \"\u2139\ufe0f **Help**\\n\\n/start \u2014 Start the bot\\n/lang \u2014 Change language\",\n        \"dashboard\": \"\ud83d\udcca **Dashboard**\\n\\nWelcome back!\",\n        \"change_language\": \"\ud83c\udf10 Change Language\",\n        \"back\": \"\u2b05\ufe0f Back\",\n    },\n    \"es_ES\": {\n        \"welcome\": \"\ud83c\udfe0 **\u00a1Bienvenido!**\\n\\nElige tu idioma:\",\n        \"main_menu\": \"\ud83c\udfe0 **Men\u00fa Principal**\\n\\n\u00bfQu\u00e9 te gustar\u00eda hacer?\",\n        \"settings\": \"\u2699\ufe0f **Configuraci\u00f3n**\",\n        \"language\": \"\ud83c\udf10 **Idioma**\\n\\nSelecciona tu idioma preferido:\",\n        \"help\": \"\u2139\ufe0f **Ayuda**\\n\\n/start \u2014 Iniciar el bot\\n/lang \u2014 Cambiar idioma\",\n        \"dashboard\": \"\ud83d\udcca **Panel**\\n\\n\u00a1Bienvenido de vuelta!\",\n        \"change_language\": \"\ud83c\udf10 Cambiar Idioma\",\n        \"back\": \"\u2b05\ufe0f Atr\u00e1s\",\n    },\n    \"fr_FR\": {\n        \"welcome\": \"\ud83c\udfe0 **Bienvenue !**\\n\\nChoisissez votre langue :\",\n        \"main_menu\": \"\ud83c\udfe0 **Menu Principal**\\n\\nQue souhaitez-vous faire ?\",\n        \"settings\": \"\u2699\ufe0f **Param\u00e8tres**\",\n        \"language\": \"\ud83c\udf10 **Langue**\\n\\nS\u00e9lectionnez votre langue :\",\n        \"help\": \"\u2139\ufe0f **Aide**\\n\\n/start \u2014 D\u00e9marrer le bot\\n/lang \u2014 Changer de langue\",\n        \"dashboard\": \"\ud83d\udcca **Tableau de Bord**\\n\\nBienvenue !\",\n        \"change_language\": \"\ud83c\udf10 Changer de Langue\",\n        \"back\": \"\u2b05\ufe0f Retour\",\n    },\n    \"de_DE\": {\n        \"welcome\": \"\ud83c\udfe0 **Willkommen!**\\n\\nW\u00e4hlen Sie Ihre Sprache:\",\n        \"main_menu\": \"\ud83c\udfe0 **Hauptmen\u00fc**\\n\\nWas m\u00f6chten Sie tun?\",\n        \"settings\": \"\u2699\ufe0f **Einstellungen**\",\n        \"language\": \"\ud83c\udf10 **Sprache**\\n\\nW\u00e4hlen Sie Ihre bevorzugte Sprache:\",\n        \"help\": \"\u2139\ufe0f **Hilfe**\\n\\n/start \u2014 Bot starten\\n/lang \u2014 Sprache \u00e4ndern\",\n        \"dashboard\": \"\ud83d\udcca **Dashboard**\\n\\nWillkommen zur\u00fcck!\",\n        \"change_language\": \"\ud83c\udf10 Sprache \u00c4ndern\",\n        \"back\": \"\u2b05\ufe0f Zur\u00fcck\",\n    },\n}\n\nSUPPORTED_LOCALES = [\"en_US\", \"es_ES\", \"fr_FR\", \"de_DE\"]\n\n\ndef t(user_id: int, key: str) -&gt; str:\n    \"\"\"Translate a key for the user's language.\"\"\"\n    lang = user_languages.get(user_id, \"en_US\")\n    return TRANSLATIONS.get(lang, TRANSLATIONS[\"en_US\"]).get(key, f\"[{key}]\")\n\n\ndef create_language_keyboard() -&gt; InlineKeyboard:\n    \"\"\"Create language selection keyboard using built-in locales.\"\"\"\n    keyboard = InlineKeyboard()\n    keyboard.languages(\"set_lang:{locale}\", SUPPORTED_LOCALES)\n    return keyboard\n\n\ndef create_main_menu(user_id: int) -&gt; InlineKeyboard:\n    \"\"\"Create main menu keyboard in user's language.\"\"\"\n    keyboard = InlineKeyboard(row_width=2)\n    keyboard.add(\n        InlineButton(\"\ud83d\udcca \" + t(user_id, \"dashboard\").split(\"\\n\")[0].strip(\"* \"),\n                      callback_data=\"menu:dashboard\"),\n        InlineButton(\"\u2699\ufe0f \" + t(user_id, \"settings\").split(\"\\n\")[0].strip(\"* \"),\n                      callback_data=\"menu:settings\"),\n        InlineButton(\"\u2139\ufe0f \" + t(user_id, \"help\").split(\"\\n\")[0].strip(\"* \"),\n                      callback_data=\"menu:help\"),\n    )\n    return keyboard\n\n\n@app.on_message(filters.command(\"start\"))\nasync def start_command(client, message):\n    user_id = message.from_user.id\n\n    if user_id not in user_languages:\n        # First visit \u2014 show language selection\n        await message.reply_text(\n            t(user_id, \"welcome\"),\n            reply_markup=create_language_keyboard(),\n        )\n    else:\n        await message.reply_text(\n            t(user_id, \"main_menu\"),\n            reply_markup=create_main_menu(user_id),\n        )\n\n\n@app.on_callback_query(filters.regex(r\"^set_lang:\"))\nasync def handle_language_selection(client, callback_query):\n    user_id = callback_query.from_user.id\n    locale = callback_query.data.split(\":\")[1]\n\n    user_languages[user_id] = locale\n\n    await callback_query.edit_message_text(\n        t(user_id, \"main_menu\"),\n        reply_markup=create_main_menu(user_id),\n    )\n    await callback_query.answer(f\"Language set to {locale[:2].upper()}!\")\n\n\n@app.on_callback_query(filters.regex(r\"^menu:\"))\nasync def handle_menu(client, callback_query):\n    user_id = callback_query.from_user.id\n    action = callback_query.data.split(\":\")[1]\n\n    match action:\n        case \"main\":\n            text = t(user_id, \"main_menu\")\n            keyboard = create_main_menu(user_id)\n        case \"settings\":\n            text = t(user_id, \"settings\")\n            lang = user_languages.get(user_id, \"en_US\")[:2].upper()\n            keyboard = InlineKeyboard(row_width=1)\n            keyboard.add(\n                InlineButton(\n                    f\"{t(user_id, 'change_language')} ({lang})\",\n                    callback_data=\"settings:language\",\n                ),\n                InlineButton(t(user_id, \"back\"), callback_data=\"menu:main\"),\n            )\n        case \"dashboard\":\n            text = t(user_id, \"dashboard\")\n            keyboard = create_main_menu(user_id)\n        case \"help\":\n            text = t(user_id, \"help\")\n            keyboard = create_main_menu(user_id)\n        case _:\n            await callback_query.answer(f\"Unknown: {action}\")\n            return\n\n    await callback_query.edit_message_text(text, reply_markup=keyboard)\n    await callback_query.answer()\n\n\n@app.on_callback_query(filters.regex(r\"^settings:language$\"))\nasync def handle_change_language(client, callback_query):\n    user_id = callback_query.from_user.id\n    await callback_query.edit_message_text(\n        t(user_id, \"language\"),\n        reply_markup=create_language_keyboard(),\n    )\n    await callback_query.answer()\n\n\n@app.on_message(filters.command(\"lang\"))\nasync def change_language_command(client, message):\n    \"\"\"Allow users to change language via /lang command.\"\"\"\n    await message.reply_text(\n        t(message.from_user.id, \"welcome\"),\n        reply_markup=create_language_keyboard(),\n    )\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"examples/multilingual/#adding-custom-locales","title":"Adding Custom Locales","text":"<p>You can register custom locales that appear alongside built-in ones:</p> <pre><code>keyboard = InlineKeyboard()\nkeyboard.add_custom_locale(\"en_PIRATE\", \"\ud83c\udff4\u200d\u2620\ufe0f Pirate English\")\nkeyboard.languages(\"set_lang:{locale}\", [\"en_US\", \"en_PIRATE\"])\n</code></pre>"},{"location":"examples/multilingual/#supported-languages","title":"Supported Languages","text":"<p>PyKeyboard supports 50+ built-in locales with native names and flag emojis. This example uses 4 of them, but you can pass any locale codes to <code>languages()</code>.</p>"},{"location":"examples/multilingual/#running","title":"Running","text":"<pre><code>pip install pykeyboard-kurigram\nexport TELEGRAM_BOT_TOKEN=\"...\"\nexport TELEGRAM_API_ID=\"...\"\nexport TELEGRAM_API_HASH=\"...\"\npython multilingual_bot.py\n</code></pre> <p>Send <code>/start</code> to select your language. Use <code>/lang</code> to change it later.</p>"},{"location":"examples/showcase-bot/","title":"Showcase Bot","text":"<p>The showcase bot is a fully tested, interactive Telegram bot that demonstrates every PyKeyboard feature in one place.</p> <p>Recommended Reference</p> <p>Unlike the other example bots in this section, the showcase bot is tested and maintained as part of the repository. It is the canonical reference implementation.</p>"},{"location":"examples/showcase-bot/#what-it-covers","title":"What it Covers","text":"Section Feature \ud83c\udfaf Inline Action buttons, URL buttons, reactions \ud83d\udcf1 Reply Contact/location requests, remove keyboard, force reply \ud83d\udcc4 Pagination 3, 5, 10, 25, and 100-page demos with navigation \ud83c\udf0d Languages Built-in + custom locales with <code>add_custom_locale</code> \ud83d\udea8 Errors All 5 error types triggered and inspected live \ud83c\udfd7\ufe0f Builder Factory presets, fluent builder, hooks &amp; validation \ud83d\udcca Performance Micro-benchmarks for keyboard creation <p>Every section includes a code-to-reproduce snippet directly in the Telegram message.</p>"},{"location":"examples/showcase-bot/#running-the-bot","title":"Running the Bot","text":"<pre><code>export TELEGRAM_BOT_TOKEN=\"your_token\"\nexport TELEGRAM_API_ID=\"your_api_id\"\nexport TELEGRAM_API_HASH=\"your_api_hash\"\npython showcase_bot.py\n</code></pre> <p>Then send <code>/start</code> to the bot in Telegram.</p>"},{"location":"examples/showcase-bot/#source-code","title":"Source Code","text":"<ul> <li>showcase_bot.py on GitHub</li> </ul>"}]}